(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const _ of d.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&l(_)}).observe(document,{childList:!0,subtree:!0});function a(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(f){if(f.ep)return;f.ep=!0;const d=a(f);fetch(f.href,d)}})();const Wi=!1;var Pa=Array.isArray,iu=Array.prototype.indexOf,qn=Array.prototype.includes,oi=Array.from,ou=Object.defineProperty,ur=Object.getOwnPropertyDescriptor,Ca=Object.getOwnPropertyDescriptors,au=Object.prototype,su=Array.prototype,fo=Object.getPrototypeOf,sa=Object.isExtensible;function uu(n){return typeof n=="function"}const Kn=()=>{};function lu(n){return n()}function Hi(n){for(var r=0;r<n.length;r++)n[r]()}function Ta(){var n,r,a=new Promise((l,f)=>{n=l,r=f});return{promise:a,resolve:n,reject:r}}function cu(n,r){if(Array.isArray(n))return n;if(!(Symbol.iterator in n))return Array.from(n);const a=[];for(const l of n)if(a.push(l),a.length===r)break;return a}const Me=2,dr=4,pr=8,ja=1<<24,bt=16,ht=32,bn=64,Gi=128,rt=512,Re=1024,Be=2048,ft=4096,Je=8192,Vt=16384,Wt=32768,mn=65536,ua=1<<17,Ka=1<<18,Un=1<<19,Ia=1<<20,Ct=1<<25,gn=65536,Qi=1<<21,ho=1<<22,zt=1<<23,Rn=Symbol("$state"),fu=Symbol(""),ln=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function hu(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function du(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function pu(n,r,a){throw new Error("https://svelte.dev/e/each_key_duplicate")}function vu(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function yu(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function mu(n){throw new Error("https://svelte.dev/e/effect_orphan")}function gu(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function _u(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function bu(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function wu(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function xu(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ku=1,Eu=2,Ra=4,Ou=8,Au=16,Su=1,Pu=2,Cu=4,Tu=1,ju=2,Ne=Symbol(),Da="http://www.w3.org/1999/xhtml",Ku="http://www.w3.org/2000/svg",Iu="http://www.w3.org/1998/Math/MathML";function Ru(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function qa(n){return n===this.v}function Du(n,r){return n!=n?r==r:n!==r||n!==null&&typeof n=="object"||typeof n=="function"}function Na(n){return!Du(n,this.v)}let vr=!1,qu=!1;function Nu(){vr=!0}let Se=null;function Nn(n){Se=n}function yr(n,r=!1,a){Se={p:Se,i:!1,c:null,e:null,s:n,x:null,l:vr&&!r?{s:null,u:null,$:[]}:null}}function mr(n){var r=Se,a=r.e;if(a!==null){r.e=null;for(var l of a)is(l)}return r.i=!0,Se=r.p,{}}function gr(){return!vr||Se!==null&&Se.l===null}let cn=[];function Ma(){var n=cn;cn=[],Hi(n)}function gt(n){if(cn.length===0&&!lr){var r=cn;queueMicrotask(()=>{r===cn&&Ma()})}cn.push(n)}function Mu(){for(;cn.length>0;)Ma()}function Ba(n){var r=ae;if(r===null)return ie.f|=zt,n;if((r.f&Wt)===0&&(r.f&dr)===0)throw n;Lt(n,r)}function Lt(n,r){for(;r!==null;){if((r.f&Gi)!==0){if((r.f&Wt)===0)throw n;try{r.b.error(n);return}catch(a){n=a}}r=r.parent}throw n}const Bu=-7169;function Ae(n,r){n.f=n.f&Bu|r}function po(n){(n.f&rt)!==0||n.deps===null?Ae(n,Re):Ae(n,ft)}function Fa(n){if(n!==null)for(const r of n)(r.f&Me)===0||(r.f&gn)===0||(r.f^=gn,Fa(r.deps))}function La(n,r,a){(n.f&Be)!==0?r.add(n):(n.f&ft)!==0&&a.add(n),Fa(n.deps),Ae(n,Re)}const Gr=new Set;let fe=null,Xi=null,st=null,$e=[],ai=null,Ji=!1,lr=!1;class $t{current=new Map;previous=new Map;#e=new Set;#a=new Set;#t=0;#i=0;#n=null;#o=new Set;#r=new Set;#s=new Map;is_fork=!1;#u=!1;#c(){return this.is_fork||this.#i>0}skip_effect(r){this.#s.has(r)||this.#s.set(r,{d:[],m:[]})}unskip_effect(r){var a=this.#s.get(r);if(a){this.#s.delete(r);for(var l of a.d)Ae(l,Be),ut(l);for(l of a.m)Ae(l,ft),ut(l)}}process(r){$e=[],this.apply();var a=[],l=[];for(const f of r)this.#l(f,a,l);if(this.#c()){this.#f(l),this.#f(a);for(const[f,d]of this.#s)$a(f,d)}else{for(const f of this.#e)f();this.#e.clear(),this.#t===0&&this.#d(),Xi=this,fe=null,la(l),la(a),Xi=null,this.#n?.resolve()}st=null}#l(r,a,l){r.f^=Re;for(var f=r.first;f!==null;){var d=f.f,_=(d&(ht|bn))!==0,k=_&&(d&Re)!==0,x=k||(d&Je)!==0||this.#s.has(f);if(!x&&f.fn!==null){_?f.f^=Re:(d&dr)!==0?a.push(f):br(f)&&((d&bt)!==0&&this.#r.add(f),Fn(f));var A=f.first;if(A!==null){f=A;continue}}for(;f!==null;){var T=f.next;if(T!==null){f=T;break}f=f.parent}}}#f(r){for(var a=0;a<r.length;a+=1)La(r[a],this.#o,this.#r)}capture(r,a){a!==Ne&&!this.previous.has(r)&&this.previous.set(r,a),(r.f&zt)===0&&(this.current.set(r,r.v),st?.set(r,r.v))}activate(){fe=this,this.apply()}deactivate(){fe===this&&(fe=null,st=null)}flush(){if(this.activate(),$e.length>0){if(Ua(),fe!==null&&fe!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#a)r(this);this.#a.clear()}#d(){if(Gr.size>1){this.previous.clear();var r=st,a=!0;for(const f of Gr){if(f===this){a=!1;continue}const d=[];for(const[k,x]of this.current){if(f.current.has(k))if(a&&x!==f.current.get(k))f.current.set(k,x);else continue;d.push(k)}if(d.length===0)continue;const _=[...f.current.keys()].filter(k=>!this.current.has(k));if(_.length>0){var l=$e;$e=[];const k=new Set,x=new Map;for(const A of d)Va(A,_,k,x);if($e.length>0){fe=f,f.apply();for(const A of $e)f.#l(A,[],[]);f.deactivate()}$e=l}}fe=null,st=r}Gr.delete(this)}increment(r){this.#t+=1,r&&(this.#i+=1)}decrement(r){this.#t-=1,r&&(this.#i-=1),!this.#u&&(this.#u=!0,gt(()=>{this.#u=!1,this.#c()?$e.length>0&&this.flush():this.revive()}))}revive(){for(const r of this.#o)this.#r.delete(r),Ae(r,Be),ut(r);for(const r of this.#r)Ae(r,ft),ut(r);this.flush()}oncommit(r){this.#e.add(r)}ondiscard(r){this.#a.add(r)}settled(){return(this.#n??=Ta()).promise}static ensure(){if(fe===null){const r=fe=new $t;Gr.add(fe),lr||gt(()=>{fe===r&&r.flush()})}return fe}apply(){}}function Fu(n){var r=lr;lr=!0;try{for(var a;;){if(Mu(),$e.length===0&&(fe?.flush(),$e.length===0))return ai=null,a;Ua()}}finally{lr=r}}function Ua(){Ji=!0;var n=null;try{for(var r=0;$e.length>0;){var a=$t.ensure();if(r++>1e3){var l,f;Lu()}a.process($e),Yt.clear()}}finally{$e=[],Ji=!1,ai=null}}function Lu(){try{gu()}catch(n){Lt(n,ai)}}let Ot=null;function la(n){var r=n.length;if(r!==0){for(var a=0;a<r;){var l=n[a++];if((l.f&(Vt|Je))===0&&br(l)&&(Ot=new Set,Fn(l),l.deps===null&&l.first===null&&l.nodes===null&&l.teardown===null&&l.ac===null&&us(l),Ot?.size>0)){Yt.clear();for(const f of Ot){if((f.f&(Vt|Je))!==0)continue;const d=[f];let _=f.parent;for(;_!==null;)Ot.has(_)&&(Ot.delete(_),d.push(_)),_=_.parent;for(let k=d.length-1;k>=0;k--){const x=d[k];(x.f&(Vt|Je))===0&&Fn(x)}}Ot.clear()}}Ot=null}}function Va(n,r,a,l){if(!a.has(n)&&(a.add(n),n.reactions!==null))for(const f of n.reactions){const d=f.f;(d&Me)!==0?Va(f,r,a,l):(d&(ho|bt))!==0&&(d&Be)===0&&za(f,r,l)&&(Ae(f,Be),ut(f))}}function za(n,r,a){const l=a.get(n);if(l!==void 0)return l;if(n.deps!==null)for(const f of n.deps){if(qn.call(r,f))return!0;if((f.f&Me)!==0&&za(f,r,a))return a.set(f,!0),!0}return a.set(n,!1),!1}function ut(n){var r=ai=n,a=r.b;if(a?.is_pending&&(n.f&(dr|pr|ja))!==0&&(n.f&Wt)===0){a.defer_effect(n);return}for(;r.parent!==null;){r=r.parent;var l=r.f;if(Ji&&r===ae&&(l&bt)!==0&&(l&Ka)===0&&(l&Wt)!==0)return;if((l&(bn|ht))!==0){if((l&Re)===0)return;r.f^=Re}}$e.push(r)}function $a(n,r){if(!((n.f&ht)!==0&&(n.f&Re)!==0)){(n.f&Be)!==0?r.d.push(n):(n.f&ft)!==0&&r.m.push(n),Ae(n,Re);for(var a=n.first;a!==null;)$a(a,r),a=a.next}}function Uu(n){let r=0,a=Ht(0),l;return()=>{mo()&&(L(a),go(()=>(r===0&&(l=wn(()=>n(()=>cr(a)))),r+=1,()=>{gt(()=>{r-=1,r===0&&(l?.(),l=void 0,cr(a))})})))}}var Vu=mn|Un;function zu(n,r,a,l){new $u(n,r,a,l)}class $u{parent;is_pending=!1;transform_error;#e;#a=null;#t;#i;#n;#o=null;#r=null;#s=null;#u=null;#c=0;#l=0;#f=!1;#d=new Set;#p=new Set;#h=null;#_=Uu(()=>(this.#h=Ht(this.#c),()=>{this.#h=null}));constructor(r,a,l,f){this.#e=r,this.#t=a,this.#i=d=>{var _=ae;_.b=this,_.f|=Gi,l(d)},this.parent=ae.b,this.transform_error=f??this.parent?.transform_error??(d=>d),this.#n=_o(()=>{this.#m()},Vu)}#b(){try{this.#o=nt(()=>this.#i(this.#e))}catch(r){this.error(r)}}#w(r){const a=this.#t.failed;a&&(this.#s=nt(()=>{a(this.#e,()=>r,()=>()=>{})}))}#x(){const r=this.#t.pending;r&&(this.is_pending=!0,this.#r=nt(()=>r(this.#e)),gt(()=>{var a=this.#u=document.createDocumentFragment(),l=Tt();a.append(l),this.#o=this.#y(()=>($t.ensure(),nt(()=>this.#i(l)))),this.#l===0&&(this.#e.before(a),this.#u=null,vn(this.#r,()=>{this.#r=null}),this.#v())}))}#m(){try{if(this.is_pending=this.has_pending_snippet(),this.#l=0,this.#c=0,this.#o=nt(()=>{this.#i(this.#e)}),this.#l>0){var r=this.#u=document.createDocumentFragment();fs(this.#o,r);const a=this.#t.pending;this.#r=nt(()=>a(this.#e))}else this.#v()}catch(a){this.error(a)}}#v(){this.is_pending=!1;for(const r of this.#d)Ae(r,Be),ut(r);for(const r of this.#p)Ae(r,ft),ut(r);this.#d.clear(),this.#p.clear()}defer_effect(r){La(r,this.#d,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#y(r){var a=ae,l=ie,f=Se;_t(this.#n),ot(this.#n),Nn(this.#n.ctx);try{return r()}catch(d){return Ba(d),null}finally{_t(a),ot(l),Nn(f)}}#g(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(r);return}this.#l+=r,this.#l===0&&(this.#v(),this.#r&&vn(this.#r,()=>{this.#r=null}),this.#u&&(this.#e.before(this.#u),this.#u=null))}update_pending_count(r){this.#g(r),this.#c+=r,!(!this.#h||this.#f)&&(this.#f=!0,gt(()=>{this.#f=!1,this.#h&&Bn(this.#h,this.#c)}))}get_effect_pending(){return this.#_(),L(this.#h)}error(r){var a=this.#t.onerror;let l=this.#t.failed;if(!a&&!l)throw r;this.#o&&(We(this.#o),this.#o=null),this.#r&&(We(this.#r),this.#r=null),this.#s&&(We(this.#s),this.#s=null);var f=!1,d=!1;const _=()=>{if(f){Ru();return}f=!0,d&&xu(),this.#s!==null&&vn(this.#s,()=>{this.#s=null}),this.#y(()=>{$t.ensure(),this.#m()})},k=x=>{try{d=!0,a?.(x,_),d=!1}catch(A){Lt(A,this.#n&&this.#n.parent)}l&&(this.#s=this.#y(()=>{$t.ensure();try{return nt(()=>{var A=ae;A.b=this,A.f|=Gi,l(this.#e,()=>x,()=>_)})}catch(A){return Lt(A,this.#n.parent),null}}))};gt(()=>{var x;try{x=this.transform_error(r)}catch(A){Lt(A,this.#n&&this.#n.parent);return}x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(k,A=>Lt(A,this.#n&&this.#n.parent)):k(x)})}}function Yu(n,r,a,l){const f=gr()?si:vo;var d=n.filter(j=>!j.settled);if(a.length===0&&d.length===0){l(r.map(f));return}var _=ae,k=Wu(),x=d.length===1?d[0].promise:d.length>1?Promise.all(d.map(j=>j.promise)):null;function A(j){k();try{l(j)}catch(R){(_.f&Vt)===0&&Lt(R,_)}Zi()}if(a.length===0){x.then(()=>A(r.map(f)));return}function T(){k(),Promise.all(a.map(j=>Gu(j))).then(j=>A([...r.map(f),...j])).catch(j=>Lt(j,_))}x?x.then(T):T()}function Wu(){var n=ae,r=ie,a=Se,l=fe;return function(d=!0){_t(n),ot(r),Nn(a),d&&l?.activate()}}function Zi(n=!0){_t(null),ot(null),Nn(null),n&&fe?.deactivate()}function Hu(){var n=ae.b,r=fe,a=n.is_rendered();return n.update_pending_count(1),r.increment(a),()=>{n.update_pending_count(-1),r.decrement(a)}}function si(n){var r=Me|Be,a=ie!==null&&(ie.f&Me)!==0?ie:null;return ae!==null&&(ae.f|=Un),{ctx:Se,deps:null,effects:null,equals:qa,f:r,fn:n,reactions:null,rv:0,v:Ne,wv:0,parent:a??ae,ac:null}}function Gu(n,r,a){ae===null&&du();var f=void 0,d=Ht(Ne),_=!ie,k=new Map;return sl(()=>{var x=Ta();f=x.promise;try{Promise.resolve(n()).then(x.resolve,x.reject).finally(Zi)}catch(R){x.reject(R),Zi()}var A=fe;if(_){var T=Hu();k.get(A)?.reject(ln),k.delete(A),k.set(A,x)}const j=(R,N=void 0)=>{if(A.activate(),N)N!==ln&&(d.f|=zt,Bn(d,N));else{(d.f&zt)!==0&&(d.f^=zt),Bn(d,R);for(const[D,U]of k){if(k.delete(D),D===A)break;U.reject(ln)}}T&&T()};x.promise.then(j,R=>j(null,R||"unknown"))}),rs(()=>{for(const x of k.values())x.reject(ln)}),new Promise(x=>{function A(T){function j(){T===f?x(d):A(f)}T.then(j,j)}A(f)})}function Mn(n){const r=si(n);return hs(r),r}function vo(n){const r=si(n);return r.equals=Na,r}function Qu(n){var r=n.effects;if(r!==null){n.effects=null;for(var a=0;a<r.length;a+=1)We(r[a])}}function Xu(n){for(var r=n.parent;r!==null;){if((r.f&Me)===0)return(r.f&Vt)===0?r:null;r=r.parent}return null}function yo(n){var r,a=ae;_t(Xu(n));try{n.f&=~gn,Qu(n),r=ys(n)}finally{_t(a)}return r}function Ya(n){var r=yo(n);if(!n.equals(r)&&(n.wv=ps(),(!fe?.is_fork||n.deps===null)&&(n.v=r,n.deps===null))){Ae(n,Re);return}_n||(st!==null?(mo()||fe?.is_fork)&&st.set(n,r):po(n))}function Ju(n){if(n.effects!==null)for(const r of n.effects)(r.teardown||r.ac)&&(r.teardown?.(),r.ac?.abort(ln),r.teardown=Kn,r.ac=null,fr(r,0),bo(r))}function Wa(n){if(n.effects!==null)for(const r of n.effects)r.teardown&&Fn(r)}let eo=new Set;const Yt=new Map;let Ha=!1;function Ht(n,r){var a={f:0,v:n,reactions:null,equals:qa,rv:0,wv:0};return a}function ze(n,r){const a=Ht(n);return hs(a),a}function Ga(n,r=!1,a=!0){const l=Ht(n);return r||(l.equals=Na),vr&&a&&Se!==null&&Se.l!==null&&(Se.l.s??=[]).push(l),l}function ca(n,r){return je(n,wn(()=>L(n))),r}function je(n,r,a=!1){ie!==null&&(!ct||(ie.f&ua)!==0)&&gr()&&(ie.f&(Me|bt|ho|ua))!==0&&(it===null||!qn.call(it,n))&&wu();let l=a?fn(r):r;return Bn(n,l)}function Bn(n,r){if(!n.equals(r)){var a=n.v;_n?Yt.set(n,r):Yt.set(n,a),n.v=r;var l=$t.ensure();if(l.capture(n,a),(n.f&Me)!==0){const f=n;(n.f&Be)!==0&&yo(f),po(f)}n.wv=ps(),Qa(n,Be),gr()&&ae!==null&&(ae.f&Re)!==0&&(ae.f&(ht|bn))===0&&(tt===null?ll([n]):tt.push(n)),!l.is_fork&&eo.size>0&&!Ha&&Zu()}return r}function Zu(){Ha=!1;for(const n of eo)(n.f&Re)!==0&&Ae(n,ft),br(n)&&Fn(n);eo.clear()}function cr(n){je(n,n.v+1)}function Qa(n,r){var a=n.reactions;if(a!==null)for(var l=gr(),f=a.length,d=0;d<f;d++){var _=a[d],k=_.f;if(!(!l&&_===ae)){var x=(k&Be)===0;if(x&&Ae(_,r),(k&Me)!==0){var A=_;st?.delete(A),(k&gn)===0&&(k&rt&&(_.f|=gn),Qa(A,ft))}else x&&((k&bt)!==0&&Ot!==null&&Ot.add(_),ut(_))}}}function fn(n){if(typeof n!="object"||n===null||Rn in n)return n;const r=fo(n);if(r!==au&&r!==su)return n;var a=new Map,l=Pa(n),f=ze(0),d=yn,_=k=>{if(yn===d)return k();var x=ie,A=yn;ot(null),da(d);var T=k();return ot(x),da(A),T};return l&&a.set("length",ze(n.length)),new Proxy(n,{defineProperty(k,x,A){(!("value"in A)||A.configurable===!1||A.enumerable===!1||A.writable===!1)&&_u();var T=a.get(x);return T===void 0?_(()=>{var j=ze(A.value);return a.set(x,j),j}):je(T,A.value,!0),!0},deleteProperty(k,x){var A=a.get(x);if(A===void 0){if(x in k){const T=_(()=>ze(Ne));a.set(x,T),cr(f)}}else je(A,Ne),cr(f);return!0},get(k,x,A){if(x===Rn)return n;var T=a.get(x),j=x in k;if(T===void 0&&(!j||ur(k,x)?.writable)&&(T=_(()=>{var N=fn(j?k[x]:Ne),D=ze(N);return D}),a.set(x,T)),T!==void 0){var R=L(T);return R===Ne?void 0:R}return Reflect.get(k,x,A)},getOwnPropertyDescriptor(k,x){var A=Reflect.getOwnPropertyDescriptor(k,x);if(A&&"value"in A){var T=a.get(x);T&&(A.value=L(T))}else if(A===void 0){var j=a.get(x),R=j?.v;if(j!==void 0&&R!==Ne)return{enumerable:!0,configurable:!0,value:R,writable:!0}}return A},has(k,x){if(x===Rn)return!0;var A=a.get(x),T=A!==void 0&&A.v!==Ne||Reflect.has(k,x);if(A!==void 0||ae!==null&&(!T||ur(k,x)?.writable)){A===void 0&&(A=_(()=>{var R=T?fn(k[x]):Ne,N=ze(R);return N}),a.set(x,A));var j=L(A);if(j===Ne)return!1}return T},set(k,x,A,T){var j=a.get(x),R=x in k;if(l&&x==="length")for(var N=A;N<j.v;N+=1){var D=a.get(N+"");D!==void 0?je(D,Ne):N in k&&(D=_(()=>ze(Ne)),a.set(N+"",D))}if(j===void 0)(!R||ur(k,x)?.writable)&&(j=_(()=>ze(void 0)),je(j,fn(A)),a.set(x,j));else{R=j.v!==Ne;var U=_(()=>fn(A));je(j,U)}var q=Reflect.getOwnPropertyDescriptor(k,x);if(q?.set&&q.set.call(T,A),!R){if(l&&typeof x=="string"){var G=a.get("length"),ee=Number(x);Number.isInteger(ee)&&ee>=G.v&&je(G,ee+1)}cr(f)}return!0},ownKeys(k){L(f);var x=Reflect.ownKeys(k).filter(j=>{var R=a.get(j);return R===void 0||R.v!==Ne});for(var[A,T]of a)T.v!==Ne&&!(A in k)&&x.push(A);return x},setPrototypeOf(){bu()}})}var to,Xa,Ja,Za;function el(){if(to===void 0){to=window,Xa=/Firefox/.test(navigator.userAgent);var n=Element.prototype,r=Node.prototype,a=Text.prototype;Ja=ur(r,"firstChild").get,Za=ur(r,"nextSibling").get,sa(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),sa(a)&&(a.__t=void 0)}}function Tt(n=""){return document.createTextNode(n)}function pn(n){return Ja.call(n)}function _r(n){return Za.call(n)}function J(n,r){return pn(n)}function St(n,r=!1){{var a=pn(n);return a instanceof Comment&&a.data===""?_r(a):a}}function xe(n,r=1,a=!1){let l=n;for(;r--;)l=_r(l);return l}function tl(n){n.textContent=""}function es(){return!1}function ts(n,r,a){return document.createElementNS(r??Da,n,void 0)}let fa=!1;function nl(){fa||(fa=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{if(!n.defaultPrevented)for(const r of n.target.elements)r.__on_r?.()})},{capture:!0}))}function Vn(n){var r=ie,a=ae;ot(null),_t(null);try{return n()}finally{ot(r),_t(a)}}function rl(n,r,a,l=a){n.addEventListener(r,()=>Vn(a));const f=n.__on_r;f?n.__on_r=()=>{f(),l(!0)}:n.__on_r=()=>l(!0),nl()}function ns(n){ae===null&&(ie===null&&mu(),yu()),_n&&vu()}function il(n,r){var a=r.last;a===null?r.last=r.first=n:(a.next=n,n.prev=a,r.last=n)}function wt(n,r,a){var l=ae;l!==null&&(l.f&Je)!==0&&(n|=Je);var f={ctx:Se,deps:null,nodes:null,f:n|Be|rt,first:null,fn:r,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,wv:0,ac:null};if(a)try{Fn(f)}catch(k){throw We(f),k}else r!==null&&ut(f);var d=f;if(a&&d.deps===null&&d.teardown===null&&d.nodes===null&&d.first===d.last&&(d.f&Un)===0&&(d=d.first,(n&bt)!==0&&(n&mn)!==0&&d!==null&&(d.f|=mn)),d!==null&&(d.parent=l,l!==null&&il(d,l),ie!==null&&(ie.f&Me)!==0&&(n&bn)===0)){var _=ie;(_.effects??=[]).push(d)}return f}function mo(){return ie!==null&&!ct}function rs(n){const r=wt(pr,null,!1);return Ae(r,Re),r.teardown=n,r}function no(n){ns();var r=ae.f,a=!ie&&(r&ht)!==0&&(r&Wt)===0;if(a){var l=Se;(l.e??=[]).push(n)}else return is(n)}function is(n){return wt(dr|Ia,n,!1)}function ol(n){return ns(),wt(pr|Ia,n,!0)}function al(n){$t.ensure();const r=wt(bn|Un,n,!0);return(a={})=>new Promise(l=>{a.outro?vn(r,()=>{We(r),l(void 0)}):(We(r),l(void 0))})}function os(n){return wt(dr,n,!1)}function sl(n){return wt(ho|Un,n,!0)}function go(n,r=0){return wt(pr|r,n,!0)}function lt(n,r=[],a=[],l=[]){Yu(l,r,a,f=>{wt(pr,()=>n(...f.map(L)),!0)})}function _o(n,r=0){var a=wt(bt|r,n,!0);return a}function nt(n){return wt(ht|Un,n,!0)}function as(n){var r=n.teardown;if(r!==null){const a=_n,l=ie;ha(!0),ot(null);try{r.call(null)}finally{ha(a),ot(l)}}}function bo(n,r=!1){var a=n.first;for(n.first=n.last=null;a!==null;){const f=a.ac;f!==null&&Vn(()=>{f.abort(ln)});var l=a.next;(a.f&bn)!==0?a.parent=null:We(a,r),a=l}}function ul(n){for(var r=n.first;r!==null;){var a=r.next;(r.f&ht)===0&&We(r),r=a}}function We(n,r=!0){var a=!1;(r||(n.f&Ka)!==0)&&n.nodes!==null&&n.nodes.end!==null&&(ss(n.nodes.start,n.nodes.end),a=!0),bo(n,r&&!a),fr(n,0),Ae(n,Vt);var l=n.nodes&&n.nodes.t;if(l!==null)for(const d of l)d.stop();as(n);var f=n.parent;f!==null&&f.first!==null&&us(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes=n.ac=null}function ss(n,r){for(;n!==null;){var a=n===r?null:_r(n);n.remove(),n=a}}function us(n){var r=n.parent,a=n.prev,l=n.next;a!==null&&(a.next=l),l!==null&&(l.prev=a),r!==null&&(r.first===n&&(r.first=l),r.last===n&&(r.last=a))}function vn(n,r,a=!0){var l=[];ls(n,l,!0);var f=()=>{a&&We(n),r&&r()},d=l.length;if(d>0){var _=()=>--d||f();for(var k of l)k.out(_)}else f()}function ls(n,r,a){if((n.f&Je)===0){n.f^=Je;var l=n.nodes&&n.nodes.t;if(l!==null)for(const k of l)(k.is_global||a)&&r.push(k);for(var f=n.first;f!==null;){var d=f.next,_=(f.f&mn)!==0||(f.f&ht)!==0&&(n.f&bt)!==0;ls(f,r,_?a:!1),f=d}}}function wo(n){cs(n,!0)}function cs(n,r){if((n.f&Je)!==0){n.f^=Je,(n.f&Re)===0&&(Ae(n,Be),ut(n));for(var a=n.first;a!==null;){var l=a.next,f=(a.f&mn)!==0||(a.f&ht)!==0;cs(a,f?r:!1),a=l}var d=n.nodes&&n.nodes.t;if(d!==null)for(const _ of d)(_.is_global||r)&&_.in()}}function fs(n,r){if(n.nodes)for(var a=n.nodes.start,l=n.nodes.end;a!==null;){var f=a===l?null:_r(a);r.append(a),a=f}}let Jr=!1,_n=!1;function ha(n){_n=n}let ie=null,ct=!1;function ot(n){ie=n}let ae=null;function _t(n){ae=n}let it=null;function hs(n){ie!==null&&(it===null?it=[n]:it.push(n))}let Ye=null,Xe=0,tt=null;function ll(n){tt=n}let ds=1,hn=0,yn=hn;function da(n){yn=n}function ps(){return++ds}function br(n){var r=n.f;if((r&Be)!==0)return!0;if(r&Me&&(n.f&=~gn),(r&ft)!==0){for(var a=n.deps,l=a.length,f=0;f<l;f++){var d=a[f];if(br(d)&&Ya(d),d.wv>n.wv)return!0}(r&rt)!==0&&st===null&&Ae(n,Re)}return!1}function vs(n,r,a=!0){var l=n.reactions;if(l!==null&&!(it!==null&&qn.call(it,n)))for(var f=0;f<l.length;f++){var d=l[f];(d.f&Me)!==0?vs(d,r,!1):r===d&&(a?Ae(d,Be):(d.f&Re)!==0&&Ae(d,ft),ut(d))}}function ys(n){var r=Ye,a=Xe,l=tt,f=ie,d=it,_=Se,k=ct,x=yn,A=n.f;Ye=null,Xe=0,tt=null,ie=(A&(ht|bn))===0?n:null,it=null,Nn(n.ctx),ct=!1,yn=++hn,n.ac!==null&&(Vn(()=>{n.ac.abort(ln)}),n.ac=null);try{n.f|=Qi;var T=n.fn,j=T();n.f|=Wt;var R=n.deps,N=fe?.is_fork;if(Ye!==null){var D;if(N||fr(n,Xe),R!==null&&Xe>0)for(R.length=Xe+Ye.length,D=0;D<Ye.length;D++)R[Xe+D]=Ye[D];else n.deps=R=Ye;if(mo()&&(n.f&rt)!==0)for(D=Xe;D<R.length;D++)(R[D].reactions??=[]).push(n)}else!N&&R!==null&&Xe<R.length&&(fr(n,Xe),R.length=Xe);if(gr()&&tt!==null&&!ct&&R!==null&&(n.f&(Me|ft|Be))===0)for(D=0;D<tt.length;D++)vs(tt[D],n);if(f!==null&&f!==n){if(hn++,f.deps!==null)for(let U=0;U<a;U+=1)f.deps[U].rv=hn;if(r!==null)for(const U of r)U.rv=hn;tt!==null&&(l===null?l=tt:l.push(...tt))}return(n.f&zt)!==0&&(n.f^=zt),j}catch(U){return Ba(U)}finally{n.f^=Qi,Ye=r,Xe=a,tt=l,ie=f,it=d,Nn(_),ct=k,yn=x}}function cl(n,r){let a=r.reactions;if(a!==null){var l=iu.call(a,n);if(l!==-1){var f=a.length-1;f===0?a=r.reactions=null:(a[l]=a[f],a.pop())}}if(a===null&&(r.f&Me)!==0&&(Ye===null||!qn.call(Ye,r))){var d=r;(d.f&rt)!==0&&(d.f^=rt,d.f&=~gn),po(d),Ju(d),fr(d,0)}}function fr(n,r){var a=n.deps;if(a!==null)for(var l=r;l<a.length;l++)cl(n,a[l])}function Fn(n){var r=n.f;if((r&Vt)===0){Ae(n,Re);var a=ae,l=Jr;ae=n,Jr=!0;try{(r&(bt|ja))!==0?ul(n):bo(n),as(n);var f=ys(n);n.teardown=typeof f=="function"?f:null,n.wv=ds;var d;Wi&&qu&&(n.f&Be)!==0&&n.deps}finally{Jr=l,ae=a}}}async function fl(){await Promise.resolve(),Fu()}function L(n){var r=n.f,a=(r&Me)!==0;if(ie!==null&&!ct){var l=ae!==null&&(ae.f&Vt)!==0;if(!l&&(it===null||!qn.call(it,n))){var f=ie.deps;if((ie.f&Qi)!==0)n.rv<hn&&(n.rv=hn,Ye===null&&f!==null&&f[Xe]===n?Xe++:Ye===null?Ye=[n]:Ye.push(n));else{(ie.deps??=[]).push(n);var d=n.reactions;d===null?n.reactions=[ie]:qn.call(d,ie)||d.push(ie)}}}if(_n&&Yt.has(n))return Yt.get(n);if(a){var _=n;if(_n){var k=_.v;return((_.f&Re)===0&&_.reactions!==null||gs(_))&&(k=yo(_)),Yt.set(_,k),k}var x=(_.f&rt)===0&&!ct&&ie!==null&&(Jr||(ie.f&rt)!==0),A=(_.f&Wt)===0;br(_)&&(x&&(_.f|=rt),Ya(_)),x&&!A&&(Wa(_),ms(_))}if(st?.has(n))return st.get(n);if((n.f&zt)!==0)throw n.v;return n.v}function ms(n){if(n.f|=rt,n.deps!==null)for(const r of n.deps)(r.reactions??=[]).push(n),(r.f&Me)!==0&&(r.f&rt)===0&&(Wa(r),ms(r))}function gs(n){if(n.v===Ne)return!0;if(n.deps===null)return!1;for(const r of n.deps)if(Yt.has(r)||(r.f&Me)!==0&&gs(r))return!0;return!1}function wn(n){var r=ct;try{return ct=!0,n()}finally{ct=r}}function hl(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Rn in n)ro(n);else if(!Array.isArray(n))for(let r in n){const a=n[r];typeof a=="object"&&a&&Rn in a&&ro(a)}}}function ro(n,r=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!r.has(n)){r.add(n),n instanceof Date&&n.getTime();for(let l in n)try{ro(n[l],r)}catch{}const a=fo(n);if(a!==Object.prototype&&a!==Array.prototype&&a!==Map.prototype&&a!==Set.prototype&&a!==Date.prototype){const l=Ca(a);for(let f in l){const d=l[f].get;if(d)try{d.call(n)}catch{}}}}}const dl=["touchstart","touchmove"];function pl(n){return dl.includes(n)}const ar=Symbol("events"),_s=new Set,io=new Set;function vl(n,r,a,l={}){function f(d){if(l.capture||oo.call(r,d),!d.cancelBubble)return Vn(()=>a?.call(this,d))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?gt(()=>{r.addEventListener(n,f,l)}):r.addEventListener(n,f,l),f}function yl(n,r,a,l,f){var d={capture:l,passive:f},_=vl(n,r,a,d);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&rs(()=>{r.removeEventListener(n,_,d)})}function Ut(n,r,a){(r[ar]??={})[n]=a}function ui(n){for(var r=0;r<n.length;r++)_s.add(n[r]);for(var a of io)a(n)}let pa=null;function oo(n){var r=this,a=r.ownerDocument,l=n.type,f=n.composedPath?.()||[],d=f[0]||n.target;pa=n;var _=0,k=pa===n&&n[ar];if(k){var x=f.indexOf(k);if(x!==-1&&(r===document||r===window)){n[ar]=r;return}var A=f.indexOf(r);if(A===-1)return;x<=A&&(_=x)}if(d=f[_]||n.target,d!==r){ou(n,"currentTarget",{configurable:!0,get(){return d||a}});var T=ie,j=ae;ot(null),_t(null);try{for(var R,N=[];d!==null;){var D=d.assignedSlot||d.parentNode||d.host||null;try{var U=d[ar]?.[l];U!=null&&(!d.disabled||n.target===d)&&U.call(d,n)}catch(q){R?N.push(q):R=q}if(n.cancelBubble||D===r||D===null)break;d=D}if(R){for(let q of N)queueMicrotask(()=>{throw q});throw R}}finally{n[ar]=r,delete n.currentTarget,ot(T),_t(j)}}}const ml=globalThis?.window?.trustedTypes&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:n=>n});function gl(n){return ml?.createHTML(n)??n}function _l(n){var r=ts("template");return r.innerHTML=gl(n.replaceAll("<!>","<!---->")),r.content}function hr(n,r){var a=ae;a.nodes===null&&(a.nodes={start:n,end:r,a:null,t:null})}function De(n,r){var a=(r&Tu)!==0,l=(r&ju)!==0,f,d=!n.startsWith("<!>");return()=>{f===void 0&&(f=_l(d?n:"<!>"+n),a||(f=pn(f)));var _=l||Xa?document.importNode(f,!0):f.cloneNode(!0);if(a){var k=pn(_),x=_.lastChild;hr(k,x)}else hr(_,_);return _}}function bl(n=""){{var r=Tt(n+"");return hr(r,r),r}}function wl(){var n=document.createDocumentFragment(),r=document.createComment(""),a=Tt();return n.append(r,a),hr(r,a),n}function Pe(n,r){n!==null&&n.before(r)}let ao=!0;function At(n,r){var a=r==null?"":typeof r=="object"?`${r}`:r;a!==(n.__t??=n.nodeValue)&&(n.__t=a,n.nodeValue=`${a}`)}function xl(n,r){return kl(n,r)}const Qr=new Map;function kl(n,{target:r,anchor:a,props:l={},events:f,context:d,intro:_=!0,transformError:k}){el();var x=void 0,A=al(()=>{var T=a??r.appendChild(Tt());zu(T,{pending:()=>{}},N=>{yr({});var D=Se;d&&(D.c=d),f&&(l.$$events=f),ao=_,x=n(N,l)||{},ao=!0,mr()},k);var j=new Set,R=N=>{for(var D=0;D<N.length;D++){var U=N[D];if(!j.has(U)){j.add(U);var q=pl(U);for(const pe of[r,document]){var G=Qr.get(pe);G===void 0&&(G=new Map,Qr.set(pe,G));var ee=G.get(U);ee===void 0?(pe.addEventListener(U,oo,{passive:q}),G.set(U,1)):G.set(U,ee+1)}}}};return R(oi(_s)),io.add(R),()=>{for(var N of j)for(const q of[r,document]){var D=Qr.get(q),U=D.get(N);--U==0?(q.removeEventListener(N,oo),D.delete(N),D.size===0&&Qr.delete(q)):D.set(N,U)}io.delete(R),T!==a&&T.parentNode?.removeChild(T)}});return El.set(x,A),x}let El=new WeakMap;class Ol{anchor;#e=new Map;#a=new Map;#t=new Map;#i=new Set;#n=!0;constructor(r,a=!0){this.anchor=r,this.#n=a}#o=()=>{var r=fe;if(this.#e.has(r)){var a=this.#e.get(r),l=this.#a.get(a);if(l)wo(l),this.#i.delete(a);else{var f=this.#t.get(a);f&&(this.#a.set(a,f.effect),this.#t.delete(a),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),l=f.effect)}for(const[d,_]of this.#e){if(this.#e.delete(d),d===r)break;const k=this.#t.get(_);k&&(We(k.effect),this.#t.delete(_))}for(const[d,_]of this.#a){if(d===a||this.#i.has(d))continue;const k=()=>{if(Array.from(this.#e.values()).includes(d)){var A=document.createDocumentFragment();fs(_,A),A.append(Tt()),this.#t.set(d,{effect:_,fragment:A})}else We(_);this.#i.delete(d),this.#a.delete(d)};this.#n||!l?(this.#i.add(d),vn(_,k,!1)):k()}}};#r=r=>{this.#e.delete(r);const a=Array.from(this.#e.values());for(const[l,f]of this.#t)a.includes(l)||(We(f.effect),this.#t.delete(l))};ensure(r,a){var l=fe,f=es();if(a&&!this.#a.has(r)&&!this.#t.has(r))if(f){var d=document.createDocumentFragment(),_=Tt();d.append(_),this.#t.set(r,{effect:nt(()=>a(_)),fragment:d})}else this.#a.set(r,nt(()=>a(this.anchor)));if(this.#e.set(l,r),f){for(const[k,x]of this.#a)k===r?l.unskip_effect(x):l.skip_effect(x);for(const[k,x]of this.#t)k===r?l.unskip_effect(x.effect):l.skip_effect(x.effect);l.oncommit(this.#o),l.ondiscard(this.#r)}else this.#o()}}function Dn(n,r,a=!1){var l=new Ol(n),f=a?mn:0;function d(_,k){l.ensure(_,k)}_o(()=>{var _=!1;r((k,x=0)=>{_=!0,d(x,k)}),_||d(!1,null)},f)}function Al(n,r,a){for(var l=[],f=r.length,d,_=r.length,k=0;k<f;k++){let j=r[k];vn(j,()=>{if(d){if(d.pending.delete(j),d.done.add(j),d.pending.size===0){var R=n.outrogroups;so(oi(d.done)),R.delete(d),R.size===0&&(n.outrogroups=null)}}else _-=1},!1)}if(_===0){var x=l.length===0&&a!==null;if(x){var A=a,T=A.parentNode;tl(T),T.append(A),n.items.clear()}so(r,!x)}else d={pending:new Set(r),done:new Set},(n.outrogroups??=new Set).add(d)}function so(n,r=!0){for(var a=0;a<n.length;a++)We(n[a],r)}var va;function Ln(n,r,a,l,f,d=null){var _=n,k=new Map,x=(r&Ra)!==0;if(x){var A=n;_=A.appendChild(Tt())}var T=null,j=vo(()=>{var G=a();return Pa(G)?G:G==null?[]:oi(G)}),R,N=!0;function D(){q.fallback=T,Sl(q,R,_,r,l),T!==null&&(R.length===0?(T.f&Ct)===0?wo(T):(T.f^=Ct,sr(T,null,_)):vn(T,()=>{T=null}))}var U=_o(()=>{R=L(j);for(var G=R.length,ee=new Set,pe=fe,me=es(),Ce=0;Ce<G;Ce+=1){var de=R[Ce],ne=l(de,Ce),ge=N?null:k.get(ne);ge?(ge.v&&Bn(ge.v,de),ge.i&&Bn(ge.i,Ce),me&&pe.unskip_effect(ge.e)):(ge=Pl(k,N?_:va??=Tt(),de,ne,Ce,f,r,a),N||(ge.e.f|=Ct),k.set(ne,ge)),ee.add(ne)}if(G===0&&d&&!T&&(N?T=nt(()=>d(_)):(T=nt(()=>d(va??=Tt())),T.f|=Ct)),G>ee.size&&pu(),!N)if(me){for(const[Fe,Ue]of k)ee.has(Fe)||pe.skip_effect(Ue.e);pe.oncommit(D),pe.ondiscard(()=>{})}else D();L(j)}),q={effect:U,items:k,outrogroups:null,fallback:T};N=!1}function or(n){for(;n!==null&&(n.f&ht)===0;)n=n.next;return n}function Sl(n,r,a,l,f){var d=(l&Ou)!==0,_=r.length,k=n.items,x=or(n.effect.first),A,T=null,j,R=[],N=[],D,U,q,G;if(d)for(G=0;G<_;G+=1)D=r[G],U=f(D,G),q=k.get(U).e,(q.f&Ct)===0&&(q.nodes?.a?.measure(),(j??=new Set).add(q));for(G=0;G<_;G+=1){if(D=r[G],U=f(D,G),q=k.get(U).e,n.outrogroups!==null)for(const Ue of n.outrogroups)Ue.pending.delete(q),Ue.done.delete(q);if((q.f&Ct)!==0)if(q.f^=Ct,q===x)sr(q,null,a);else{var ee=T?T.next:x;q===n.effect.last&&(n.effect.last=q.prev),q.prev&&(q.prev.next=q.next),q.next&&(q.next.prev=q.prev),Mt(n,T,q),Mt(n,q,ee),sr(q,ee,a),T=q,R=[],N=[],x=or(T.next);continue}if((q.f&Je)!==0&&(wo(q),d&&(q.nodes?.a?.unfix(),(j??=new Set).delete(q))),q!==x){if(A!==void 0&&A.has(q)){if(R.length<N.length){var pe=N[0],me;T=pe.prev;var Ce=R[0],de=R[R.length-1];for(me=0;me<R.length;me+=1)sr(R[me],pe,a);for(me=0;me<N.length;me+=1)A.delete(N[me]);Mt(n,Ce.prev,de.next),Mt(n,T,Ce),Mt(n,de,pe),x=pe,T=de,G-=1,R=[],N=[]}else A.delete(q),sr(q,x,a),Mt(n,q.prev,q.next),Mt(n,q,T===null?n.effect.first:T.next),Mt(n,T,q),T=q;continue}for(R=[],N=[];x!==null&&x!==q;)(A??=new Set).add(x),N.push(x),x=or(x.next);if(x===null)continue}(q.f&Ct)===0&&R.push(q),T=q,x=or(q.next)}if(n.outrogroups!==null){for(const Ue of n.outrogroups)Ue.pending.size===0&&(so(oi(Ue.done)),n.outrogroups?.delete(Ue));n.outrogroups.size===0&&(n.outrogroups=null)}if(x!==null||A!==void 0){var ne=[];if(A!==void 0)for(q of A)(q.f&Je)===0&&ne.push(q);for(;x!==null;)(x.f&Je)===0&&x!==n.fallback&&ne.push(x),x=or(x.next);var ge=ne.length;if(ge>0){var Fe=(l&Ra)!==0&&_===0?a:null;if(d){for(G=0;G<ge;G+=1)ne[G].nodes?.a?.measure();for(G=0;G<ge;G+=1)ne[G].nodes?.a?.fix()}Al(n,ne,Fe)}}d&&gt(()=>{if(j!==void 0)for(q of j)q.nodes?.a?.apply()})}function Pl(n,r,a,l,f,d,_,k){var x=(_&ku)!==0?(_&Au)===0?Ga(a,!1,!1):Ht(a):null,A=(_&Eu)!==0?Ht(f):null;return{v:x,i:A,e:nt(()=>(d(r,x??a,A??f,k),()=>{n.delete(l)}))}}function sr(n,r,a){if(n.nodes)for(var l=n.nodes.start,f=n.nodes.end,d=r&&(r.f&Ct)===0?r.nodes.start:a;l!==null;){var _=_r(l);if(d.before(l),l===f)return;l=_}}function Mt(n,r,a){r===null?n.effect.first=a:r.next=a,a===null?n.effect.last=r:a.prev=r}function ya(n,r,a=!1,l=!1,f=!1){var d=n,_="";lt(()=>{var k=ae;if(_!==(_=r()??"")&&(k.nodes!==null&&(ss(k.nodes.start,k.nodes.end),k.nodes=null),_!=="")){var x=a?Ku:l?Iu:void 0,A=ts(a?"svg":l?"math":"template",x);A.innerHTML=_;var T=a||l?A:A.content;if(hr(pn(T),T.lastChild),a||l)for(;pn(T);)d.before(pn(T));else d.before(T)}})}const Cl=()=>performance.now(),Pt={tick:n=>requestAnimationFrame(n),now:()=>Cl(),tasks:new Set};function bs(){const n=Pt.now();Pt.tasks.forEach(r=>{r.c(n)||(Pt.tasks.delete(r),r.f())}),Pt.tasks.size!==0&&Pt.tick(bs)}function Tl(n){let r;return Pt.tasks.size===0&&Pt.tick(bs),{promise:new Promise(a=>{Pt.tasks.add(r={c:n,f:a})}),abort(){Pt.tasks.delete(r)}}}function ni(n,r){Vn(()=>{n.dispatchEvent(new CustomEvent(r))})}function jl(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const r=n.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function ma(n){const r={},a=n.split(";");for(const l of a){const[f,d]=l.split(":");if(!f||d===void 0)break;const _=jl(f.trim());r[_]=d.trim()}return r}const Kl=n=>n;function ga(n,r,a,l){var f=(n&Su)!==0,d=(n&Pu)!==0,_=f&&d,k=(n&Cu)!==0,x=_?"both":f?"in":"out",A,T=r.inert,j=r.style.overflow,R,N;function D(){return Vn(()=>A??=a()(r,l?.()??{},{direction:x}))}var U={is_global:k,in(){if(r.inert=T,!f){N?.abort(),N?.reset?.();return}d||R?.abort(),R=uo(r,D(),N,1,()=>{ni(r,"introend"),R?.abort(),R=A=void 0,r.style.overflow=j})},out(pe){if(!d){pe?.(),A=void 0;return}r.inert=!0,N=uo(r,D(),R,0,()=>{ni(r,"outroend"),pe?.()})},stop:()=>{R?.abort(),N?.abort()}},q=ae;if((q.nodes.t??=[]).push(U),f&&ao){var G=k;if(!G){for(var ee=q.parent;ee&&(ee.f&mn)!==0;)for(;(ee=ee.parent)&&(ee.f&bt)===0;);G=!ee||(ee.f&Wt)!==0}G&&os(()=>{wn(()=>U.in())})}}function uo(n,r,a,l,f){var d=l===1;if(uu(r)){var _,k=!1;return gt(()=>{if(!k){var q=r({direction:d?"in":"out"});_=uo(n,q,a,l,f)}}),{abort:()=>{k=!0,_?.abort()},deactivate:()=>_.deactivate(),reset:()=>_.reset(),t:()=>_.t()}}if(a?.deactivate(),!r?.duration&&!r?.delay)return ni(n,d?"introstart":"outrostart"),f(),{abort:Kn,deactivate:Kn,reset:Kn,t:()=>l};const{delay:x=0,css:A,tick:T,easing:j=Kl}=r;var R=[];if(d&&a===void 0&&(T&&T(0,1),A)){var N=ma(A(0,1));R.push(N,N)}var D=()=>1-l,U=n.animate(R,{duration:x,fill:"forwards"});return U.onfinish=()=>{U.cancel(),ni(n,d?"introstart":"outrostart");var q=a?.t()??1-l;a?.abort();var G=l-q,ee=r.duration*Math.abs(G),pe=[];if(ee>0){var me=!1;if(A)for(var Ce=Math.ceil(ee/16.666666666666668),de=0;de<=Ce;de+=1){var ne=q+G*j(de/Ce),ge=ma(A(ne,1-ne));pe.push(ge),me||=ge.overflow==="hidden"}me&&(n.style.overflow="hidden"),D=()=>{var Fe=U.currentTime;return q+G*j(Fe/ee)},T&&Tl(()=>{if(U.playState!=="running")return!1;var Fe=D();return T(Fe,1-Fe),!0})}U=n.animate(pe,{duration:ee,fill:"forwards"}),U.onfinish=()=>{D=()=>l,T?.(l,1-l),f()}},{abort:()=>{U&&(U.cancel(),U.effect=null,U.onfinish=Kn)},deactivate:()=>{f=Kn},reset:()=>{l===0&&T?.(1,0)},t:()=>D()}}function ws(n){var r,a,l="";if(typeof n=="string"||typeof n=="number")l+=n;else if(typeof n=="object")if(Array.isArray(n)){var f=n.length;for(r=0;r<f;r++)n[r]&&(a=ws(n[r]))&&(l&&(l+=" "),l+=a)}else for(a in n)n[a]&&(l&&(l+=" "),l+=a);return l}function Il(){for(var n,r,a=0,l="",f=arguments.length;a<f;a++)(n=arguments[a])&&(r=ws(n))&&(l&&(l+=" "),l+=r);return l}function Rl(n){return typeof n=="object"?Il(n):n??""}const _a=[...` 	
\r\fÂ \v\uFEFF`];function Dl(n,r,a){var l=n==null?"":""+n;if(r&&(l=l?l+" "+r:r),a){for(var f of Object.keys(a))if(a[f])l=l?l+" "+f:f;else if(l.length)for(var d=f.length,_=0;(_=l.indexOf(f,_))>=0;){var k=_+d;(_===0||_a.includes(l[_-1]))&&(k===l.length||_a.includes(l[k]))?l=(_===0?"":l.substring(0,_))+l.substring(k+1):_=k}}return l===""?null:l}function ql(n,r){return n==null?null:String(n)}function Ft(n,r,a,l,f,d){var _=n.__className;if(_!==a||_===void 0){var k=Dl(a,l,d);k==null?n.removeAttribute("class"):n.className=k,n.__className=a}else if(d&&f!==d)for(var x in d){var A=!!d[x];(f==null||A!==!!f[x])&&n.classList.toggle(x,A)}return d}function Nl(n,r,a,l){var f=n.__style;if(f!==r){var d=ql(r);d==null?n.removeAttribute("style"):n.style.cssText=d,n.__style=r}return l}const Ml=Symbol("is custom element"),Bl=Symbol("is html");function Zr(n,r,a,l){var f=Fl(n);f[r]!==(f[r]=a)&&(r==="loading"&&(n[fu]=a),a==null?n.removeAttribute(r):typeof a!="string"&&Ll(n).includes(r)?n[r]=a:n.setAttribute(r,a))}function Fl(n){return n.__attributes??={[Ml]:n.nodeName.includes("-"),[Bl]:n.namespaceURI===Da}}var ba=new Map;function Ll(n){var r=n.getAttribute("is")||n.nodeName,a=ba.get(r);if(a)return a;ba.set(r,a=[]);for(var l,f=n,d=Element.prototype;d!==f;){l=Ca(f);for(var _ in l)l[_].set&&a.push(_);f=fo(f)}return a}function Ul(n,r,a=r){var l=new WeakSet;rl(n,"input",async f=>{var d=f?n.defaultValue:n.value;if(d=zi(n)?$i(d):d,a(d),fe!==null&&l.add(fe),await fl(),d!==(d=r())){var _=n.selectionStart,k=n.selectionEnd,x=n.value.length;if(n.value=d??"",k!==null){var A=n.value.length;_===k&&k===x&&A>x?(n.selectionStart=A,n.selectionEnd=A):(n.selectionStart=_,n.selectionEnd=Math.min(k,A))}}}),wn(r)==null&&n.value&&(a(zi(n)?$i(n.value):n.value),fe!==null&&l.add(fe)),go(()=>{var f=r();if(n===document.activeElement){var d=Xi??fe;if(l.has(d))return}zi(n)&&f===$i(n.value)||n.type==="date"&&!f&&!n.value||f!==n.value&&(n.value=f??"")})}function zi(n){var r=n.type;return r==="number"||r==="range"}function $i(n){return n===""?null:+n}function wa(n,r){return n===r||n?.[Rn]===r}function ri(n={},r,a,l){return os(()=>{var f,d;return go(()=>{f=d,d=[],wn(()=>{n!==a(...d)&&(r(n,...d),f&&wa(a(...f),n)&&r(null,...f))})}),()=>{gt(()=>{d&&wa(a(...d),n)&&r(null,...d)})}}),n}function Vl(n=!1){const r=Se,a=r.l.u;if(!a)return;let l=()=>hl(r.s);if(n){let f=0,d={};const _=si(()=>{let k=!1;const x=r.s;for(const A in x)x[A]!==d[A]&&(d[A]=x[A],k=!0);return k&&f++,f});l=()=>L(_)}a.b.length&&ol(()=>{xa(r,l),Hi(a.b)}),no(()=>{const f=wn(()=>a.m.map(lu));return()=>{for(const d of f)typeof d=="function"&&d()}}),a.a.length&&no(()=>{xa(r,l),Hi(a.a)})}function xa(n,r){if(n.l.s)for(const a of n.l.s)L(a);r()}function zl(n){var r=Ht(0);return function(){return arguments.length===1?(je(r,L(r)+1),arguments[0]):(L(r),n())}}function Xr(n,r,a,l){var f=l,d=!0,_=()=>(d&&(d=!1,f=l),f),k;k=n[r],k===void 0&&l!==void 0&&(k=_());var x;return x=()=>{var A=n[r];return A===void 0?_():(d=!0,A)},x}function $l(n){Se===null&&hu(),vr&&Se.l!==null?Yl(Se).m.push(n):no(()=>{const r=wn(n);if(typeof r=="function")return r})}function Yl(n){var r=n.l;return r.u??={a:[],b:[],m:[]}}const Wl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Wl);Nu();function Hl(n){const r=n-1;return r*r*r+1}function ka(n){const r=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return r?[parseFloat(r[1]),r[2]||"px"]:[n,"px"]}function Ea(n,{delay:r=0,duration:a=400,easing:l=Hl,x:f=0,y:d=0,opacity:_=0}={}){const k=getComputedStyle(n),x=+k.opacity,A=k.transform==="none"?"":k.transform,T=x*(1-_),[j,R]=ka(f),[N,D]=ka(d);return{delay:r,duration:a,easing:l,css:(U,q)=>`
			transform: ${A} translate(${(1-U)*j}${R}, ${(1-U)*N}${D});
			opacity: ${x-T*q}`}}var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ql(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ei={exports:{}},Xl=ei.exports,Oa;function Jl(){return Oa||(Oa=1,(function(n,r){((a,l)=>{n.exports=l()})(Xl,function(){var a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(i,o){i.__proto__=o}:function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}))(e,t)},l=function(){return(l=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function f(e,t,i){for(var o,s=0,u=t.length;s<u;s++)!o&&s in t||((o=o||Array.prototype.slice.call(t,0,s))[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Gl,_=Object.keys,k=Array.isArray;function x(e,t){return typeof t=="object"&&_(t).forEach(function(i){e[i]=t[i]}),e}typeof Promise>"u"||d.Promise||(d.Promise=Promise);var A=Object.getPrototypeOf,T={}.hasOwnProperty;function j(e,t){return T.call(e,t)}function R(e,t){typeof t=="function"&&(t=t(A(e))),(typeof Reflect>"u"?_:Reflect.ownKeys)(t).forEach(function(i){D(e,i,t[i])})}var N=Object.defineProperty;function D(e,t,i,o){N(e,t,x(i&&j(i,"get")&&typeof i.get=="function"?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},o))}function U(e){return{from:function(t){return e.prototype=Object.create(t.prototype),D(e.prototype,"constructor",e),{extend:R.bind(null,e.prototype)}}}}var q=Object.getOwnPropertyDescriptor,G=[].slice;function ee(e,t,i){return G.call(e,t,i)}function pe(e,t){return t(e)}function me(e){if(!e)throw new Error("Assertion Failed")}function Ce(e){d.setImmediate?setImmediate(e):setTimeout(e,0)}function de(e,t){if(typeof t=="string"&&j(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var i=[],o=0,s=t.length;o<s;++o){var u=de(e,t[o]);i.push(u)}return i}var c,h=t.indexOf(".");return h===-1||(c=e[t.substr(0,h)])==null?void 0:de(c,t.substr(h+1))}function ne(e,t,i){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){me(typeof i!="string"&&"length"in i);for(var o=0,s=t.length;o<s;++o)ne(e,t[o],i[o])}else{var u,c,h=t.indexOf(".");h!==-1?(u=t.substr(0,h),(h=t.substr(h+1))===""?i===void 0?k(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=i:ne(c=(c=e[u])&&j(e,u)?c:e[u]={},h,i)):i===void 0?k(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=i}}function ge(e){var t,i={};for(t in e)j(e,t)&&(i[t]=e[t]);return i}var Fe=[].concat;function Ue(e){return Fe.apply([],e)}var Te="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ue([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return d[e]}),Gt=new Set(Te.map(function(e){return d[e]})),dt=null;function at(e){return dt=new WeakMap,e=(function t(i){if(!i||typeof i!="object")return i;var o=dt.get(i);if(o)return o;if(k(i)){o=[],dt.set(i,o);for(var s=0,u=i.length;s<u;++s)o.push(t(i[s]))}else if(Gt.has(i.constructor))o=i;else{var c,h=A(i);for(c in o=h===Object.prototype?{}:Object.create(h),dt.set(i,o),i)j(i,c)&&(o[c]=t(i[c]))}return o})(e),dt=null,e}var zn={}.toString;function Qt(e){return zn.call(e).slice(8,-1)}var ke=typeof Symbol<"u"?Symbol.iterator:"@@iterator",oe=typeof ke=="symbol"?function(e){var t;return e!=null&&(t=e[ke])&&t.apply(e)}:function(){return null};function se(e,t){t=e.indexOf(t),0<=t&&e.splice(t,1)}var ve={};function ce(e){var t,i,o,s;if(arguments.length===1){if(k(e))return e.slice();if(this===ve&&typeof e=="string")return[e];if(s=oe(e))for(i=[];!(o=s.next()).done;)i.push(o.value);else{if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(i=new Array(t);t--;)i[t]=e[t]}}else for(t=arguments.length,i=new Array(t);t--;)i[t]=arguments[t];return i}var qe=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Te=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ge=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Te),xt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ve(e,t){this.name=e,this.message=t}function Xt(e,t){return e+". Errors: "+Object.keys(t).map(function(i){return t[i].toString()}).filter(function(i,o,s){return s.indexOf(i)===o}).join(`
`)}function xn(e,t,i,o){this.failures=t,this.failedKeys=o,this.successCount=i,this.message=Xt(e,t)}function pt(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(i){return t[i]}),this.failuresByPos=t,this.message=Xt(e,this.failures)}U(Ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),U(xn).from(Ve),U(pt).from(Ve);var He=Ge.reduce(function(e,t){return e[t]=t+"Error",e},{}),xr=Ve,H=Ge.reduce(function(e,t){var i=t+"Error";function o(s,u){this.name=i,s?typeof s=="string"?(this.message="".concat(s).concat(u?`
 `+u:""),this.inner=u||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=xt[t]||i,this.inner=null)}return U(o).from(xr),e[t]=o,e},{}),kr=(H.Syntax=SyntaxError,H.Type=TypeError,H.Range=RangeError,Te.reduce(function(e,t){return e[t+"Error"]=H[t],e},{}));Te=Ge.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=H[t]),e},{});function he(){}function $n(e){return e}function Ps(e,t){return e==null||e===$n?t:function(i){return t(e(i))}}function Jt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Cs(e,t){return e===he?t:function(){var i=e.apply(this,arguments),o=(i!==void 0&&(arguments[0]=i),this.onsuccess),s=this.onerror,u=(this.onsuccess=null,this.onerror=null,t.apply(this,arguments));return o&&(this.onsuccess=this.onsuccess?Jt(o,this.onsuccess):o),s&&(this.onerror=this.onerror?Jt(s,this.onerror):s),u!==void 0?u:i}}function Ts(e,t){return e===he?t:function(){e.apply(this,arguments);var i=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?Jt(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Jt(o,this.onerror):o)}}function js(e,t){return e===he?t:function(s){var o=e.apply(this,arguments),s=(x(s,o),this.onsuccess),u=this.onerror,c=(this.onsuccess=null,this.onerror=null,t.apply(this,arguments));return s&&(this.onsuccess=this.onsuccess?Jt(s,this.onsuccess):s),u&&(this.onerror=this.onerror?Jt(u,this.onerror):u),o===void 0?c===void 0?void 0:c:x(o,c)}}function Ks(e,t){return e===he?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function li(e,t){return e===he?t:function(){var i=e.apply(this,arguments);if(i&&typeof i.then=="function"){for(var o=this,s=arguments.length,u=new Array(s);s--;)u[s]=arguments[s];return i.then(function(){return t.apply(o,u)})}return t.apply(this,arguments)}}Te.ModifyError=xn,Te.DexieError=Ve,Te.BulkError=pt;var vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ao(e){vt=e}var Yn={},So=100,Wn=typeof Promise>"u"?[]:(Ge=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Wn=crypto.subtle.digest("SHA-512",new Uint8Array([0])),A(Wn),Ge]:[Ge,A(Ge),Ge]),Ge=Wn[0],Tn=Wn[1],Tn=Tn&&Tn.then,Zt=Ge&&Ge.constructor,ci=!!Wn[2],Hn=function(e,t){Gn.push([e,t]),Er&&(queueMicrotask(Rs),Er=!1)},fi=!0,Er=!0,en=[],Or=[],hi=$n,jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:he,pgp:!1,env:{},finalize:he},W=jt,Gn=[],tn=0,Ar=[];function V(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=W;if(typeof e!="function"){if(e!==Yn)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&pi(this,this._value)}else this._state=null,this._value=null,++t.ref,(function i(o,s){try{s(function(u){if(o._state===null){if(u===o)throw new TypeError("A promise cannot be resolved with itself.");var c=o._lib&&kn();u&&typeof u.then=="function"?i(o,function(h,y){u instanceof V?u._then(h,y):u.then(h,y)}):(o._state=!0,o._value=u,Co(o)),c&&En()}},pi.bind(null,o))}catch(u){pi(o,u)}})(this,e)}var di={get:function(){var e=W,t=Tr;function i(o,s){var u=this,c=!e.global&&(e!==W||t!==Tr),h=c&&!It(),y=new V(function(O,m){vi(u,new Po(jo(o,e,c,h),jo(s,e,c,h),O,m,e))});return this._consoleTask&&(y._consoleTask=this._consoleTask),y}return i.prototype=Yn,i},set:function(e){D(this,"then",e&&e.prototype===Yn?di:{get:function(){return e},set:di.set})}};function Po(e,t,i,o,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=i,this.reject=o,this.psd=s}function pi(e,t){var i,o;Or.push(t),e._state===null&&(i=e._lib&&kn(),t=hi(t),e._state=!1,e._value=t,o=e,en.some(function(s){return s._value===o._value})||en.push(o),Co(e),i)&&En()}function Co(e){var t=e._listeners;e._listeners=[];for(var i=0,o=t.length;i<o;++i)vi(e,t[i]);var s=e._PSD;--s.ref||s.finalize(),tn===0&&(++tn,Hn(function(){--tn==0&&yi()},[]))}function vi(e,t){if(e._state===null)e._listeners.push(t);else{var i=e._state?t.onFulfilled:t.onRejected;if(i===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++tn,Hn(Is,[i,e,t])}}function Is(e,t,i){try{var o,s=t._value;!t._state&&Or.length&&(Or=[]),o=vt&&t._consoleTask?t._consoleTask.run(function(){return e(s)}):e(s),t._state||Or.indexOf(s)!==-1||(u=>{for(var c=en.length;c;)if(en[--c]._value===u._value)return en.splice(c,1)})(t),i.resolve(o)}catch(u){i.reject(u)}finally{--tn==0&&yi(),--i.psd.ref||i.psd.finalize()}}function Rs(){nn(jt,function(){kn()&&En()})}function kn(){var e=fi;return Er=fi=!1,e}function En(){var e,t,i;do for(;0<Gn.length;)for(e=Gn,Gn=[],i=e.length,t=0;t<i;++t){var o=e[t];o[0].apply(null,o[1])}while(0<Gn.length);Er=fi=!0}function yi(){for(var e=en,t=(en=[],e.forEach(function(o){o._PSD.onunhandled.call(null,o._value,o)}),Ar.slice(0)),i=t.length;i;)t[--i]()}function Sr(e){return new V(Yn,!1,e)}function _e(e,t){var i=W;return function(){var o=kn(),s=W;try{return Rt(i,!0),e.apply(this,arguments)}catch(u){t&&t(u)}finally{Rt(s,!1),o&&En()}}}R(V.prototype,{then:di,_then:function(e,t){vi(this,new Po(null,null,e,t,W))},catch:function(e){var t,i;return arguments.length===1?this.then(null,e):(t=e,i=arguments[1],typeof t=="function"?this.then(null,function(o){return(o instanceof t?i:Sr)(o)}):this.then(null,function(o){return(o&&o.name===t?i:Sr)(o)}))},finally:function(e){return this.then(function(t){return V.resolve(e()).then(function(){return t})},function(t){return V.resolve(e()).then(function(){return Sr(t)})})},timeout:function(e,t){var i=this;return e<1/0?new V(function(o,s){var u=setTimeout(function(){return s(new H.Timeout(t))},e);i.then(o,s).finally(clearTimeout.bind(null,u))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&D(V.prototype,Symbol.toStringTag,"Dexie.Promise"),jt.env=To(),R(V,{all:function(){var e=ce.apply(null,arguments).map(jr);return new V(function(t,i){e.length===0&&t([]);var o=e.length;e.forEach(function(s,u){return V.resolve(s).then(function(c){e[u]=c,--o||t(e)},i)})})},resolve:function(e){return e instanceof V?e:e&&typeof e.then=="function"?new V(function(t,i){e.then(t,i)}):new V(Yn,!0,e)},reject:Sr,race:function(){var e=ce.apply(null,arguments).map(jr);return new V(function(t,i){e.map(function(o){return V.resolve(o).then(t,i)})})},PSD:{get:function(){return W},set:function(e){return W=e}},totalEchoes:{get:function(){return Tr}},newPSD:Kt,usePSD:nn,scheduler:{get:function(){return Hn},set:function(e){Hn=e}},rejectionMapper:{get:function(){return hi},set:function(e){hi=e}},follow:function(e,t){return new V(function(i,o){return Kt(function(s,u){var c=W;c.unhandleds=[],c.onunhandled=u,c.finalize=Jt(function(){var h,y=this;h=function(){y.unhandleds.length===0?s():u(y.unhandleds[0])},Ar.push(function O(){h(),Ar.splice(Ar.indexOf(O),1)}),++tn,Hn(function(){--tn==0&&yi()},[])},c.finalize),e()},t,i,o)})}}),Zt&&(Zt.allSettled&&D(V,"allSettled",function(){var e=ce.apply(null,arguments).map(jr);return new V(function(t){e.length===0&&t([]);var i=e.length,o=new Array(i);e.forEach(function(s,u){return V.resolve(s).then(function(c){return o[u]={status:"fulfilled",value:c}},function(c){return o[u]={status:"rejected",reason:c}}).then(function(){return--i||t(o)})})})}),Zt.any&&typeof AggregateError<"u"&&D(V,"any",function(){var e=ce.apply(null,arguments).map(jr);return new V(function(t,i){e.length===0&&i(new AggregateError([]));var o=e.length,s=new Array(o);e.forEach(function(u,c){return V.resolve(u).then(function(h){return t(h)},function(h){s[c]=h,--o||i(new AggregateError(s))})})})}),Zt.withResolvers)&&(V.withResolvers=Zt.withResolvers);var Ke={awaits:0,echoes:0,id:0},Ds=0,Pr=[],Cr=0,Tr=0,qs=0;function Kt(e,c,i,o){var s=W,u=Object.create(s),c=(u.parent=s,u.ref=0,u.global=!1,u.id=++qs,jt.env,u.env=ci?{Promise:V,PromiseProp:{value:V,configurable:!0,writable:!0},all:V.all,race:V.race,allSettled:V.allSettled,any:V.any,resolve:V.resolve,reject:V.reject}:{},c&&x(u,c),++s.ref,u.finalize=function(){--this.parent.ref||this.parent.finalize()},nn(u,e,i,o));return u.ref===0&&u.finalize(),c}function On(){return Ke.id||(Ke.id=++Ds),++Ke.awaits,Ke.echoes+=So,Ke.id}function It(){return!!Ke.awaits&&(--Ke.awaits==0&&(Ke.id=0),Ke.echoes=Ke.awaits*So,!0)}function jr(e){return Ke.echoes&&e&&e.constructor===Zt?(On(),e.then(function(t){return It(),t},function(t){return It(),Ee(t)})):e}function Ns(){var e=Pr[Pr.length-1];Pr.pop(),Rt(e,!1)}function Rt(e,t){var i,o,s=W;(t?!Ke.echoes||Cr++&&e===W:!Cr||--Cr&&e===W)||queueMicrotask(t?function(u){++Tr,Ke.echoes&&--Ke.echoes!=0||(Ke.echoes=Ke.awaits=Ke.id=0),Pr.push(W),Rt(u,!0)}.bind(null,e):Ns),e!==W&&(W=e,s===jt&&(jt.env=To()),ci)&&(i=jt.env.Promise,o=e.env,s.global||e.global)&&(Object.defineProperty(d,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject,o.allSettled&&(i.allSettled=o.allSettled),o.any)&&(i.any=o.any)}function To(){var e=d.Promise;return ci?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(d,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function nn(e,t,i,o,s){var u=W;try{return Rt(e,!0),t(i,o,s)}finally{Rt(u,!1)}}function jo(e,t,i,o){return typeof e!="function"?e:function(){var s=W;i&&On(),Rt(t,!0);try{return e.apply(this,arguments)}finally{Rt(s,!1),o&&queueMicrotask(It)}}}function mi(e){Promise===Zt&&Ke.echoes===0?Cr===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+Tn).indexOf("[native code]")===-1&&(On=It=he);var Ee=V.reject,rn="ï¿¿",kt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ko="String expected.",An=[],Kr="__dbnames",gi="readonly",_i="readwrite";function on(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Io={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ir(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=at(t))[e],t}}function Ro(){throw H.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function te(e,t){try{var i=Do(e),o=Do(t);if(i!==o)return i==="Array"?1:o==="Array"?-1:i==="binary"?1:o==="binary"?-1:i==="string"?1:o==="string"?-1:i==="Date"?1:o!=="Date"?NaN:-1;switch(i){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":for(var s=qo(e),u=qo(t),c=s.length,h=u.length,y=c<h?c:h,O=0;O<y;++O)if(s[O]!==u[O])return s[O]<u[O]?-1:1;return c===h?0:c<h?-1:1;case"Array":for(var m=e,p=t,b=m.length,w=p.length,g=b<w?b:w,v=0;v<g;++v){var S=te(m[v],p[v]);if(S!==0)return S}return b===w?0:b<w?-1:1}}catch{}return NaN}function Do(e){var t=typeof e;return t=="object"&&(ArrayBuffer.isView(e)||(t=Qt(e))==="ArrayBuffer")?"binary":t}function qo(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function Rr(e,t,i){var o=e.schema.yProps;return o?(t&&0<i.numFailures&&(t=t.filter(function(s,u){return!i.failures[u]})),Promise.all(o.map(function(s){return s=s.updatesTable,t?e.db.table(s).where("k").anyOf(t).delete():e.db.table(s).clear()})).then(function(){return i})):i}No.prototype.execute=function(e){var t=this["@@propmod"];if(t.add!==void 0){var i=t.add;if(k(i))return f(f([],k(e)?e:[],!0),i).sort();if(typeof i=="number")return(Number(e)||0)+i;if(typeof i=="bigint")try{return BigInt(e)+i}catch{return BigInt(0)+i}throw new TypeError("Invalid term ".concat(i))}if(t.remove!==void 0){var o=t.remove;if(k(o))return k(e)?e.filter(function(s){return!o.includes(s)}).sort():[];if(typeof o=="number")return Number(e)-o;if(typeof o=="bigint")try{return BigInt(e)-o}catch{return BigInt(0)-o}throw new TypeError("Invalid subtrahend ".concat(o))}return i=(i=t.replacePrefix)==null?void 0:i[0],i&&typeof e=="string"&&e.startsWith(i)?t.replacePrefix[1]+e.substring(i.length):e};var Qn=No;function No(e){this["@@propmod"]=e}function Mo(e,t){for(var i=_(t),o=i.length,s=!1,u=0;u<o;++u){var c=i[u],h=t[c],y=de(e,c);h instanceof Qn?(ne(e,c,h.execute(y)),s=!0):y!==h&&(ne(e,c,h),s=!0)}return s}ye.prototype._trans=function(e,t,i){var o=this._tx||W.trans,s=this.name,u=vt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function c(O,m,p){if(p.schema[s])return t(p.idbtrans,p);throw new H.NotFound("Table "+s+" not part of transaction")}var h=kn();try{var y=o&&o.db._novip===this.db._novip?o===W.trans?o._promise(e,c,i):Kt(function(){return o._promise(e,c,i)},{trans:o,transless:W.transless||W}):(function O(m,p,b,w){if(m.idbdb&&(m._state.openComplete||W.letThrough||m._vip)){var g=m._createTransaction(p,b,m._dbSchema);try{g.create(),m._state.PR1398_maxLoop=3}catch(v){return v.name===He.InvalidState&&m.isOpen()&&0<--m._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),m.close({disableAutoOpen:!1}),m.open().then(function(){return O(m,p,b,w)})):Ee(v)}return g._promise(p,function(v,S){return Kt(function(){return W.trans=g,w(v,S,g)})}).then(function(v){if(p==="readwrite")try{g.idbtrans.commit()}catch{}return p==="readonly"?v:g._completion.then(function(){return v})})}if(m._state.openComplete)return Ee(new H.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return Ee(new H.DatabaseClosed);m.open().catch(he)}return m._state.dbReadyPromise.then(function(){return O(m,p,b,w)})})(this.db,e,[this.name],c);return u&&(y._consoleTask=u,y=y.catch(function(O){return console.trace(O),Ee(O)})),y}finally{h&&En()}},ye.prototype.get=function(e,t){var i=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?Ee(new H.Type("Invalid argument to Table.get()")):this._trans("readonly",function(o){return i.core.get({trans:o,key:e}).then(function(s){return i.hook.reading.fire(s)})}).then(t)},ye.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(k(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=_(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var i=this.schema.indexes.concat(this.schema.primKey).filter(function(h){if(h.compound&&t.every(function(O){return 0<=h.keyPath.indexOf(O)})){for(var y=0;y<t.length;++y)if(t.indexOf(h.keyPath[y])===-1)return!1;return!0}return!1}).sort(function(h,y){return h.keyPath.length-y.keyPath.length})[0];if(i&&this.db._maxKey!==rn)return c=i.keyPath.slice(0,t.length),this.where(c).equals(c.map(function(h){return e[h]}));!i&&vt&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var o=this.schema.idxByName;function s(h,y){return te(h,y)===0}var c=t.reduce(function(m,y){var O=m[0],m=m[1],p=o[y],b=e[y];return[O||p,O||!p?on(m,p&&p.multi?function(w){return w=de(w,y),k(w)&&w.some(function(g){return s(b,g)})}:function(w){return s(b,de(w,y))}):m]},[null,null]),u=c[0],c=c[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(c):i?this.filter(c):this.where(t).equals("")},ye.prototype.filter=function(e){return this.toCollection().and(e)},ye.prototype.count=function(e){return this.toCollection().count(e)},ye.prototype.offset=function(e){return this.toCollection().offset(e)},ye.prototype.limit=function(e){return this.toCollection().limit(e)},ye.prototype.each=function(e){return this.toCollection().each(e)},ye.prototype.toArray=function(e){return this.toCollection().toArray(e)},ye.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ye.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,k(e)?"[".concat(e.join("+"),"]"):e))},ye.prototype.reverse=function(){return this.toCollection().reverse()},ye.prototype.mapToClass=function(e){for(var t=this.db,i=this.name,o=((this.schema.mappedClass=e).prototype instanceof Ro&&(e=(c=>{var h=m,y=c;if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function O(){this.constructor=h}function m(){return c!==null&&c.apply(this,arguments)||this}return a(h,y),h.prototype=y===null?Object.create(y):(O.prototype=y.prototype,new O),Object.defineProperty(m.prototype,"db",{get:function(){return t},enumerable:!1,configurable:!0}),m.prototype.table=function(){return i},m})(e)),new Set),s=e.prototype;s;s=A(s))Object.getOwnPropertyNames(s).forEach(function(c){return o.add(c)});function u(c){if(!c)return c;var h,y=Object.create(e.prototype);for(h in c)if(!o.has(h))try{y[h]=c[h]}catch{}return y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=u,this.hook("reading",u),e},ye.prototype.defineClass=function(){return this.mapToClass(function(e){x(this,e)})},ye.prototype.add=function(e,t){var i=this,o=this.schema.primKey,s=o.auto,u=o.keyPath,c=e;return u&&s&&(c=Ir(u)(e)),this._trans("readwrite",function(h){return i.core.mutate({trans:h,type:"add",keys:t!=null?[t]:null,values:[c]})}).then(function(h){return h.numFailures?V.reject(h.failures[0]):h.lastResult}).then(function(h){if(u)try{ne(e,u,h)}catch{}return h})},ye.prototype.upsert=function(e,t){var i=this,o=this.schema.primKey.keyPath;return this._trans("readwrite",function(s){return i.core.get({trans:s,key:e}).then(function(u){var c=u??{};return Mo(c,t),o&&ne(c,o,e),i.core.mutate({trans:s,type:"put",values:[c],keys:[e],upsert:!0,updates:{keys:[e],changeSpecs:[t]}}).then(function(h){return h.numFailures?V.reject(h.failures[0]):!!u})})})},ye.prototype.update=function(e,t){return typeof e!="object"||k(e)?this.where(":id").equals(e).modify(t):(e=de(e,this.schema.primKey.keyPath))===void 0?Ee(new H.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},ye.prototype.put=function(e,t){var i=this,o=this.schema.primKey,s=o.auto,u=o.keyPath,c=e;return u&&s&&(c=Ir(u)(e)),this._trans("readwrite",function(h){return i.core.mutate({trans:h,type:"put",values:[c],keys:t!=null?[t]:null})}).then(function(h){return h.numFailures?V.reject(h.failures[0]):h.lastResult}).then(function(h){if(u)try{ne(e,u,h)}catch{}return h})},ye.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(i){return t.core.mutate({trans:i,type:"delete",keys:[e]}).then(function(o){return Rr(t,[e],o)}).then(function(o){return o.numFailures?V.reject(o.failures[0]):void 0})})},ye.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Io}).then(function(i){return Rr(e,null,i)})}).then(function(t){return t.numFailures?V.reject(t.failures[0]):void 0})},ye.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(i){return t.core.getMany({keys:e,trans:i}).then(function(o){return o.map(function(s){return t.hook.reading.fire(s)})})})},ye.prototype.bulkAdd=function(e,t,i){var o=this,s=Array.isArray(t)?t:void 0,u=(i=i||(s?void 0:t))?i.allKeys:void 0;return this._trans("readwrite",function(c){var h=o.schema.primKey,O=h.auto,h=h.keyPath;if(h&&s)throw new H.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");var y=e.length,O=h&&O?e.map(Ir(h)):e;return o.core.mutate({trans:c,type:"add",keys:s,values:O,wantResults:u}).then(function(m){var p=m.numFailures,b=m.failures;if(p===0)return u?m.results:m.lastResult;throw new pt("".concat(o.name,".bulkAdd(): ").concat(p," of ").concat(y," operations failed"),b)})})},ye.prototype.bulkPut=function(e,t,i){var o=this,s=Array.isArray(t)?t:void 0,u=(i=i||(s?void 0:t))?i.allKeys:void 0;return this._trans("readwrite",function(c){var h=o.schema.primKey,O=h.auto,h=h.keyPath;if(h&&s)throw new H.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");var y=e.length,O=h&&O?e.map(Ir(h)):e;return o.core.mutate({trans:c,type:"put",keys:s,values:O,wantResults:u}).then(function(m){var p=m.numFailures,b=m.failures;if(p===0)return u?m.results:m.lastResult;throw new pt("".concat(o.name,".bulkPut(): ").concat(p," of ").concat(y," operations failed"),b)})})},ye.prototype.bulkUpdate=function(e){var t=this,i=this.core,o=e.map(function(c){return c.key}),s=e.map(function(c){return c.changes}),u=[];return this._trans("readwrite",function(c){return i.getMany({trans:c,keys:o,cache:"clone"}).then(function(h){var y=[],O=[],m=(e.forEach(function(p,b){var w=p.key,g=p.changes,v=h[b];if(v){for(var S=0,P=Object.keys(g);S<P.length;S++){var E=P[S],C=g[E];if(E===t.schema.primKey.keyPath){if(te(C,w)!==0)throw new H.Constraint("Cannot update primary key in bulkUpdate()")}else ne(v,E,C)}u.push(b),y.push(w),O.push(v)}}),y.length);return i.mutate({trans:c,type:"put",keys:y,values:O,updates:{keys:o,changeSpecs:s}}).then(function(p){var b=p.numFailures,w=p.failures;if(b===0)return m;for(var g=0,v=Object.keys(w);g<v.length;g++){var S,P=v[g],E=u[Number(P)];E!=null&&(S=w[P],delete w[P],w[E]=S)}throw new pt("".concat(t.name,".bulkUpdate(): ").concat(b," of ").concat(m," operations failed"),w)})})})},ye.prototype.bulkDelete=function(e){var t=this,i=e.length;return this._trans("readwrite",function(o){return t.core.mutate({trans:o,type:"delete",keys:e}).then(function(s){return Rr(t,e,s)})}).then(function(o){var s=o.numFailures,u=o.failures;if(s===0)return o.lastResult;throw new pt("".concat(t.name,".bulkDelete(): ").concat(s," of ").concat(i," operations failed"),u)})};var Bo=ye;function ye(){}function Xn(e){function t(c,h){if(h){for(var y=arguments.length,O=new Array(y-1);--y;)O[y-1]=arguments[y];return i[c].subscribe.apply(null,O),e}if(typeof c=="string")return i[c]}var i={};t.addEventType=u;for(var o=1,s=arguments.length;o<s;++o)u(arguments[o]);return t;function u(c,h,y){var O,m;if(typeof c!="object")return h=h||Ks,m={subscribers:[],fire:y=y||he,subscribe:function(p){m.subscribers.indexOf(p)===-1&&(m.subscribers.push(p),m.fire=h(m.fire,p))},unsubscribe:function(p){m.subscribers=m.subscribers.filter(function(b){return b!==p}),m.fire=m.subscribers.reduce(h,y)}},i[c]=t[c]=m;_(O=c).forEach(function(p){var b=O[p];if(k(b))u(p,O[p][0],O[p][1]);else{if(b!=="asap")throw new H.InvalidArgument("Invalid event config");var w=u(p,$n,function(){for(var g=arguments.length,v=new Array(g);g--;)v[g]=arguments[g];w.subscribers.forEach(function(S){Ce(function(){S.apply(null,v)})})})}})}}function Jn(e,t){return U(t).from({prototype:e}),t}function Sn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function bi(e,t){e.filter=on(e.filter,t)}function wi(e,t,i){var o=e.replayFilter;e.replayFilter=o?function(){return on(o(),t())}:t,e.justLimit=i&&!o}function Dr(e,t){if(e.isPrimKey)return t.primaryKey;var i=t.getIndexByKeyPath(e.index);if(i)return i;throw new H.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed")}function Fo(e,t,i){var o=Dr(e,t.schema);return t.openCursor({trans:i,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:o,range:e.range}})}function qr(e,t,i,o){var s,u,c=e.replayFilter?on(e.filter,e.replayFilter()):e.filter;return e.or?(s={},u=function(h,y,O){var m,p;c&&!c(y,O,function(b){return y.stop(b)},function(b){return y.fail(b)})||((p=""+(m=y.primaryKey))=="[object ArrayBuffer]"&&(p=""+new Uint8Array(m)),j(s,p))||(s[p]=!0,t(h,y,O))},Promise.all([e.or._iterate(u,i),Lo(Fo(e,o,i),e.algorithm,u,!e.keysOnly&&e.valueMapper)])):Lo(Fo(e,o,i),on(e.algorithm,c),t,!e.keysOnly&&e.valueMapper)}function Lo(e,t,i,o){var s=_e(o?function(u,c,h){return i(o(u),c,h)}:i);return e.then(function(u){if(u)return u.start(function(){var c=function(){return u.continue()};t&&!t(u,function(h){return c=h},function(h){u.stop(h),c=he},function(h){u.fail(h),c=he})||s(u.value,u,function(h){return c=h}),c()})})}ue.prototype._read=function(e,t){var i=this._ctx;return i.error?i.table._trans(null,Ee.bind(null,i.error)):i.table._trans("readonly",e).then(t)},ue.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Ee.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},ue.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=on(t.algorithm,e)},ue.prototype._iterate=function(e,t){return qr(this._ctx,e,t,this._ctx.table.core)},ue.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return e&&x(i,e),t._ctx=i,t},ue.prototype.raw=function(){return this._ctx.valueMapper=null,this},ue.prototype.each=function(e){var t=this._ctx;return this._read(function(i){return qr(t,e,i,t.table.core)})},ue.prototype.count=function(e){var t=this;return this._read(function(i){var o,s=t._ctx,u=s.table.core;return Sn(s,!0)?u.count({trans:i,query:{index:Dr(s,u.schema),range:s.range}}).then(function(c){return Math.min(c,s.limit)}):(o=0,qr(s,function(){return++o,!1},i,u).then(function(){return o}))}).then(e)},ue.prototype.sortBy=function(e,t){var i=e.split(".").reverse(),o=i[0],s=i.length-1;function u(y,O){return O?u(y[i[O]],O-1):y[o]}var c=this._ctx.dir==="next"?1:-1;function h(y,O){return te(u(y,s),u(O,s))*c}return this.toArray(function(y){return y.sort(h)}).then(t)},ue.prototype.toArray=function(e){var t=this;return this._read(function(i){var o,s,u,c=t._ctx;return c.dir==="next"&&Sn(c,!0)&&0<c.limit?(o=c.valueMapper,s=Dr(c,c.table.core.schema),c.table.core.query({trans:i,limit:c.limit,values:!0,query:{index:s,range:c.range}}).then(function(h){return h=h.result,o?h.map(o):h})):(u=[],qr(c,function(h){return u.push(h)},i,c.table.core).then(function(){return u}))},e)},ue.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,Sn(t)?wi(t,function(){var i=e;return function(o,s){return i===0||(i===1?--i:s(function(){o.advance(i),i=0}),!1)}}):wi(t,function(){var i=e;return function(){return--i<0}})),this},ue.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),wi(this._ctx,function(){var t=e;return function(i,o,s){return--t<=0&&o(s),0<=t}},!0),this},ue.prototype.until=function(e,t){return bi(this._ctx,function(i,o,s){return!e(i.value)||(o(s),t)}),this},ue.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},ue.prototype.last=function(e){return this.reverse().first(e)},ue.prototype.filter=function(e){var t;return bi(this._ctx,function(i){return e(i.value)}),(t=this._ctx).isMatch=on(t.isMatch,e),this},ue.prototype.and=function(e){return this.filter(e)},ue.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},ue.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ue.prototype.desc=function(){return this.reverse()},ue.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(i,o){e(o.key,o)})},ue.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},ue.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(i,o){e(o.primaryKey,o)})},ue.prototype.keys=function(e){var t=this._ctx,i=(t.keysOnly=!t.isMatch,[]);return this.each(function(o,s){i.push(s.key)}).then(function(){return i}).then(e)},ue.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&Sn(t,!0)&&0<t.limit)return this._read(function(o){var s=Dr(t,t.table.core.schema);return t.table.core.query({trans:o,values:!1,limit:t.limit,query:{index:s,range:t.range}})}).then(function(o){return o.result}).then(e);t.keysOnly=!t.isMatch;var i=[];return this.each(function(o,s){i.push(s.primaryKey)}).then(function(){return i}).then(e)},ue.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},ue.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},ue.prototype.lastKey=function(e){return this.reverse().firstKey(e)},ue.prototype.distinct=function(){var e,t=this._ctx,t=t.index&&t.table.schema.idxByName[t.index];return t&&t.multi&&(e={},bi(this._ctx,function(o){var o=o.primaryKey.toString(),s=j(e,o);return e[o]=!0,!s})),this},ue.prototype.modify=function(e){var t=this,i=this._ctx;return this._write(function(o){function s(v,S){var P=S.failures;b+=v-S.numFailures;for(var E=0,C=_(P);E<C.length;E++){var K=C[E];p.push(P[K])}}var u=typeof e=="function"?e:function(v){return Mo(v,e)},c=i.table.core,m=c.schema.primaryKey,h=m.outbound,y=m.extractKey,O=200,m=t.db._options.modifyChunkSize,p=(m&&(O=typeof m=="object"?m[c.name]||m["*"]||200:m),[]),b=0,w=[],g=e===Uo;return t.clone().primaryKeys().then(function(v){function S(E){var C=Math.min(O,v.length-E),K=v.slice(E,E+C);return(g?Promise.resolve([]):c.getMany({trans:o,keys:K,cache:"immutable"})).then(function(B){var F=[],I=[],$=h?[]:null,z=g?K:[];if(!g)for(var M=0;M<C;++M){var Y=B[M],re={value:at(Y),primKey:v[E+M]};u.call(re,re.value,re)!==!1&&(re.value==null?z.push(v[E+M]):h||te(y(Y),y(re.value))===0?(I.push(re.value),h&&$.push(v[E+M])):(z.push(v[E+M]),F.push(re.value)))}return Promise.resolve(0<F.length&&c.mutate({trans:o,type:"add",values:F}).then(function(le){for(var Q in le.failures)z.splice(parseInt(Q),1);s(F.length,le)})).then(function(){return(0<I.length||P&&typeof e=="object")&&c.mutate({trans:o,type:"put",keys:$,values:I,criteria:P,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<E}).then(function(le){return s(I.length,le)})}).then(function(){return(0<z.length||P&&g)&&c.mutate({trans:o,type:"delete",keys:z,criteria:P,isAdditionalChunk:0<E}).then(function(le){return Rr(i.table,z,le)}).then(function(le){return s(z.length,le)})}).then(function(){return v.length>E+C&&S(E+O)})})}var P=Sn(i)&&i.limit===1/0&&(typeof e!="function"||g)&&{index:i.index,range:i.range};return S(0).then(function(){if(0<p.length)throw new xn("Error modifying one or more objects",p,b,w);return v.length})})})},ue.prototype.delete=function(){var e=this._ctx,t=e.range;return!Sn(e)||e.table.schema.yProps||!e.isPrimKey&&t.type!==3?this.modify(Uo):this._write(function(i){var o=e.table.core.schema.primaryKey,s=t;return e.table.core.count({trans:i,query:{index:o,range:s}}).then(function(u){return e.table.core.mutate({trans:i,type:"deleteRange",range:s}).then(function(y){var h=y.failures,y=y.numFailures;if(y)throw new xn("Could not delete some values",Object.keys(h).map(function(O){return h[O]}),u-y);return u-y})})})};var Ms=ue;function ue(){}var Uo=function(e,t){return t.value=null};function Bs(e,t){return e<t?-1:e===t?0:1}function Fs(e,t){return t<e?-1:e===t?0:1}function Qe(e,t,i){return e=e instanceof zo?new e.Collection(e):e,e._ctx.error=new(i||TypeError)(t),e}function Pn(e){return new e.Collection(e,function(){return Vo("")}).limit(0)}function Nr(w,t,i,o){var s,u,c,h,y,O,m,p=i.length;if(!i.every(function(v){return typeof v=="string"}))return Qe(w,Ko);function b(v){s=v==="next"?function(P){return P.toUpperCase()}:function(P){return P.toLowerCase()},u=v==="next"?function(P){return P.toLowerCase()}:function(P){return P.toUpperCase()},c=v==="next"?Bs:Fs;var S=i.map(function(P){return{lower:u(P),upper:s(P)}}).sort(function(P,E){return c(P.lower,E.lower)});h=S.map(function(P){return P.upper}),y=S.map(function(P){return P.lower}),m=(O=v)==="next"?"":o}b("next");var w=new w.Collection(w,function(){return Dt(h[0],y[p-1]+o)}),g=(w._ondirectionchange=function(v){b(v)},0);return w._addAlgorithm(function(v,S,P){var E=v.key;if(typeof E=="string"){var C=u(E);if(t(C,y,g))return!0;for(var K=null,B=g;B<p;++B){var F=((I,$,z,M,Y,re)=>{for(var le=Math.min(I.length,M.length),Q=-1,Z=0;Z<le;++Z){var be=$[Z];if(be!==M[Z])return Y(I[Z],z[Z])<0?I.substr(0,Z)+z[Z]+z.substr(Z+1):Y(I[Z],M[Z])<0?I.substr(0,Z)+M[Z]+z.substr(Z+1):0<=Q?I.substr(0,Q)+$[Q]+z.substr(Q+1):null;Y(I[Z],be)<0&&(Q=Z)}return le<M.length&&re==="next"?I+z.substr(I.length):le<I.length&&re==="prev"?I.substr(0,z.length):Q<0?null:I.substr(0,Q)+M[Q]+z.substr(Q+1)})(E,C,h[B],y[B],c,O);F===null&&K===null?g=B+1:(K===null||0<c(K,F))&&(K=F)}S(K!==null?function(){v.continue(K+m)}:P)}return!1}),w}function Dt(e,t,i,o){return{type:2,lower:e,upper:t,lowerOpen:i,upperOpen:o}}function Vo(e){return{type:1,lower:e,upper:e}}Object.defineProperty(Ie.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ie.prototype.between=function(e,t,i,o){i=i!==!1,o=o===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(i||o)&&(!i||!o)?Pn(this):new this.Collection(this,function(){return Dt(e,t,!i,!o)})}catch{return Qe(this,kt)}},Ie.prototype.equals=function(e){return e==null?Qe(this,kt):new this.Collection(this,function(){return Vo(e)})},Ie.prototype.above=function(e){return e==null?Qe(this,kt):new this.Collection(this,function(){return Dt(e,void 0,!0)})},Ie.prototype.aboveOrEqual=function(e){return e==null?Qe(this,kt):new this.Collection(this,function(){return Dt(e,void 0,!1)})},Ie.prototype.below=function(e){return e==null?Qe(this,kt):new this.Collection(this,function(){return Dt(void 0,e,!1,!0)})},Ie.prototype.belowOrEqual=function(e){return e==null?Qe(this,kt):new this.Collection(this,function(){return Dt(void 0,e)})},Ie.prototype.startsWith=function(e){return typeof e!="string"?Qe(this,Ko):this.between(e,e+rn,!0,!0)},Ie.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Nr(this,function(t,i){return t.indexOf(i[0])===0},[e],rn)},Ie.prototype.equalsIgnoreCase=function(e){return Nr(this,function(t,i){return t===i[0]},[e],"")},Ie.prototype.anyOfIgnoreCase=function(){var e=ce.apply(ve,arguments);return e.length===0?Pn(this):Nr(this,function(t,i){return i.indexOf(t)!==-1},e,"")},Ie.prototype.startsWithAnyOfIgnoreCase=function(){var e=ce.apply(ve,arguments);return e.length===0?Pn(this):Nr(this,function(t,i){return i.some(function(o){return t.indexOf(o)===0})},e,rn)},Ie.prototype.anyOf=function(){var e,t,i=this,o=ce.apply(ve,arguments),s=this._cmp;try{o.sort(s)}catch{return Qe(this,kt)}return o.length===0?Pn(this):((e=new this.Collection(this,function(){return Dt(o[0],o[o.length-1])}))._ondirectionchange=function(u){s=u==="next"?i._ascending:i._descending,o.sort(s)},t=0,e._addAlgorithm(function(u,c,h){for(var y=u.key;0<s(y,o[t]);)if(++t===o.length)return c(h),!1;return s(y,o[t])===0||(c(function(){u.continue(o[t])}),!1)}),e)},Ie.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ie.prototype.noneOf=function(){var e=ce.apply(ve,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Qe(this,kt)}var t=e.reduce(function(i,o){return i?i.concat([[i[i.length-1][1],o]]):[[-1/0,o]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Ie.prototype.inAnyRange=function(e,P){var i=this,o=this._cmp,s=this._ascending,u=this._descending,c=this._min,h=this._max;if(e.length===0)return Pn(this);if(!e.every(function(E){return E[0]!==void 0&&E[1]!==void 0&&s(E[0],E[1])<=0}))return Qe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",H.InvalidArgument);var y=!P||P.includeLowers!==!1,O=P&&P.includeUppers===!0,m,p=s;function b(E,C){return p(E[0],C[0])}try{(m=e.reduce(function(E,C){for(var K=0,B=E.length;K<B;++K){var F=E[K];if(o(C[0],F[1])<0&&0<o(C[1],F[0])){F[0]=c(F[0],C[0]),F[1]=h(F[1],C[1]);break}}return K===B&&E.push(C),E},[])).sort(b)}catch{return Qe(this,kt)}var w=0,g=O?function(E){return 0<s(E,m[w][1])}:function(E){return 0<=s(E,m[w][1])},v=y?function(E){return 0<u(E,m[w][0])}:function(E){return 0<=u(E,m[w][0])},S=g,P=new this.Collection(this,function(){return Dt(m[0][0],m[m.length-1][1],!y,!O)});return P._ondirectionchange=function(E){p=E==="next"?(S=g,s):(S=v,u),m.sort(b)},P._addAlgorithm(function(E,C,K){for(var B,F=E.key;S(F);)if(++w===m.length)return C(K),!1;return!g(B=F)&&!v(B)||(i._cmp(F,m[w][1])===0||i._cmp(F,m[w][0])===0||C(function(){p===s?E.continue(m[w][0]):E.continue(m[w][1])}),!1)}),P},Ie.prototype.startsWithAnyOf=function(){var e=ce.apply(ve,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?Pn(this):this.inAnyRange(e.map(function(t){return[t,t+rn]})):Qe(this,"startsWithAnyOf() only works with strings")};var zo=Ie;function Ie(){}function yt(e){return _e(function(t){return Zn(t),e(t.target.error),!1})}function Zn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var er="storagemutated",xi="x-storagemutated-1",qt=Xn(null,er),Ls=(mt.prototype._lock=function(){return me(!W.global),++this._reculock,this._reculock!==1||W.global||(W.lockOwnerFor=this),this},mt.prototype._unlock=function(){if(me(!W.global),--this._reculock==0)for(W.global||(W.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{nn(e[1],e[0])}catch{}}return this},mt.prototype._locked=function(){return this._reculock&&W.lockOwnerFor!==this},mt.prototype.create=function(e){var t=this;if(this.mode){var i=this.db.idbdb,o=this.db._state.dbOpenError;if(me(!this.idbtrans),!e&&!i)switch(o&&o.name){case"DatabaseClosedError":throw new H.DatabaseClosed(o);case"MissingAPIError":throw new H.MissingAPI(o.message,o);default:throw new H.OpenFailed(o)}if(!this.active)throw new H.TransactionInactive;me(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||i).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=_e(function(s){Zn(s),t._reject(e.error)}),e.onabort=_e(function(s){Zn(s),t.active&&t._reject(new H.Abort(e.error)),t.active=!1,t.on("abort").fire(s)}),e.oncomplete=_e(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&qt.storagemutated.fire(e.mutatedParts)})}return this},mt.prototype._promise=function(e,t,i){var o,s=this;return e==="readwrite"&&this.mode!=="readwrite"?Ee(new H.ReadOnly("Transaction is readonly")):this.active?this._locked()?new V(function(u,c){s._blockedFuncs.push([function(){s._promise(e,t,i).then(u,c)},W])}):i?Kt(function(){var u=new V(function(c,h){s._lock();var y=t(c,h,s);y&&y.then&&y.then(c,h)});return u.finally(function(){return s._unlock()}),u._lib=!0,u}):((o=new V(function(u,c){var h=t(u,c,s);h&&h.then&&h.then(u,c)}))._lib=!0,o):Ee(new H.TransactionInactive)},mt.prototype._root=function(){return this.parent?this.parent._root():this},mt.prototype.waitFor=function(e){var t,i=this._root(),o=V.resolve(e),s=(i._waitingFor?i._waitingFor=i._waitingFor.then(function(){return o}):(i._waitingFor=o,i._waitingQueue=[],t=i.idbtrans.objectStore(i.storeNames[0]),(function u(){for(++i._spinCount;i._waitingQueue.length;)i._waitingQueue.shift()();i._waitingFor&&(t.get(-1/0).onsuccess=u)})()),i._waitingFor);return new V(function(u,c){o.then(function(h){return i._waitingQueue.push(_e(u.bind(null,h)))},function(h){return i._waitingQueue.push(_e(c.bind(null,h)))}).finally(function(){i._waitingFor===s&&(i._waitingFor=null)})})},mt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new H.Abort))},mt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(j(t,e))return t[e];var i=this.schema[e];if(i)return(i=new this.db.Table(e,i,this)).core=this.db.core.table(e),t[e]=i;throw new H.NotFound("Table "+e+" not part of transaction")},mt);function mt(){}function ki(e,t,i,o,s,u,c,h){return{name:e,keyPath:t,unique:i,multi:o,auto:s,compound:u,src:(i&&!c?"&":"")+(o?"*":"")+(s?"++":"")+$o(t),type:h}}function $o(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ei(e,t,i){return{name:e,primKey:t,indexes:i,mappedClass:null,idxByName:(o=function(s){return[s.name,s]},i.reduce(function(s,u,c){return u=o(u,c),u&&(s[u[0]]=u[1]),s},{}))};var o}var tr=function(e){try{return e.only([[]]),tr=function(){return[[]]},[[]]}catch{return tr=function(){return rn},rn}};function Oi(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(i){return i[t]}:function(i){return de(i,t)}:function(i){return de(i,e)};var t}function Yo(e){return[].slice.call(e)}var Us=0;function nr(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function Vs(e,t,y){function o(g){if(g.type===3)return null;if(g.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var p=g.lower,b=g.upper,w=g.lowerOpen,g=g.upperOpen;return p===void 0?b===void 0?null:t.upperBound(b,!!g):b===void 0?t.lowerBound(p,!!w):t.bound(p,b,!!w,!!g)}function s(m){var p,b=m.name;return{name:b,schema:m,mutate:function(w){var g=w.trans,v=w.type,S=w.keys,P=w.values,E=w.range;return new Promise(function(C,K){C=_e(C);var B=g.objectStore(b),F=B.keyPath==null,I=v==="put"||v==="add";if(!I&&v!=="delete"&&v!=="deleteRange")throw new Error("Invalid operation type: "+v);var $,z=(S||P||{length:1}).length;if(S&&P&&S.length!==P.length)throw new Error("Given keys array must have same length as given values array.");if(z===0)return C({numFailures:0,failures:{},results:[],lastResult:void 0});function M(we){++le,Zn(we)}var Y=[],re=[],le=0;if(v==="deleteRange"){if(E.type===4)return C({numFailures:le,failures:re,results:[],lastResult:void 0});E.type===3?Y.push($=B.clear()):Y.push($=B.delete(o(E)))}else{var F=I?F?[P,S]:[P,null]:[S,null],Q=F[0],Z=F[1];if(I)for(var be=0;be<z;++be)Y.push($=Z&&Z[be]!==void 0?B[v](Q[be],Z[be]):B[v](Q[be])),$.onerror=M;else for(be=0;be<z;++be)Y.push($=B[v](Q[be])),$.onerror=M}function Ze(we){we=we.target.result,Y.forEach(function(un,Vi){return un.error!=null&&(re[Vi]=un.error)}),C({numFailures:le,failures:re,results:v==="delete"?S:Y.map(function(un){return un.result}),lastResult:we})}$.onerror=function(we){M(we),Ze(we)},$.onsuccess=Ze})},getMany:function(w){var g=w.trans,v=w.keys;return new Promise(function(S,P){S=_e(S);for(var E,C=g.objectStore(b),K=v.length,B=new Array(K),F=0,I=0,$=function(Y){Y=Y.target,B[Y._pos]=Y.result,++I===F&&S(B)},z=yt(P),M=0;M<K;++M)v[M]!=null&&((E=C.get(v[M]))._pos=M,E.onsuccess=$,E.onerror=z,++F);F===0&&S(B)})},get:function(w){var g=w.trans,v=w.key;return new Promise(function(S,P){S=_e(S);var E=g.objectStore(b).get(v);E.onsuccess=function(C){return S(C.target.result)},E.onerror=yt(P)})},query:(p=h,function(w){return new Promise(function(g,v){g=_e(g);var S,P,E,I=w.trans,C=w.values,K=w.limit,F=w.query,B=K===1/0?void 0:K,$=F.index,F=F.range,I=I.objectStore(b),I=$.isPrimaryKey?I:I.index($.name),$=o(F);if(K===0)return g({result:[]});p?((F=C?I.getAll($,B):I.getAllKeys($,B)).onsuccess=function(z){return g({result:z.target.result})},F.onerror=yt(v)):(S=0,P=!C&&"openKeyCursor"in I?I.openKeyCursor($):I.openCursor($),E=[],P.onsuccess=function(z){var M=P.result;return!M||(E.push(C?M.value:M.primaryKey),++S===K)?g({result:E}):void M.continue()},P.onerror=yt(v))})}),openCursor:function(w){var g=w.trans,v=w.values,S=w.query,P=w.reverse,E=w.unique;return new Promise(function(C,K){C=_e(C);var I=S.index,B=S.range,F=g.objectStore(b),F=I.isPrimaryKey?F:F.index(I.name),I=P?E?"prevunique":"prev":E?"nextunique":"next",$=!v&&"openKeyCursor"in F?F.openKeyCursor(o(B),I):F.openCursor(o(B),I);$.onerror=yt(K),$.onsuccess=_e(function(z){var M,Y,re,le,Q=$.result;Q?(Q.___id=++Us,Q.done=!1,M=Q.continue.bind(Q),Y=(Y=Q.continuePrimaryKey)&&Y.bind(Q),re=Q.advance.bind(Q),le=function(){throw new Error("Cursor not stopped")},Q.trans=g,Q.stop=Q.continue=Q.continuePrimaryKey=Q.advance=function(){throw new Error("Cursor not started")},Q.fail=_e(K),Q.next=function(){var Z=this,be=1;return this.start(function(){return be--?Z.continue():Z.stop()}).then(function(){return Z})},Q.start=function(Z){function be(){if($.result)try{Z()}catch(we){Q.fail(we)}else Q.done=!0,Q.start=function(){throw new Error("Cursor behind last entry")},Q.stop()}var Ze=new Promise(function(we,un){we=_e(we),$.onerror=yt(un),Q.fail=un,Q.stop=function(Vi){Q.stop=Q.continue=Q.continuePrimaryKey=Q.advance=le,we(Vi)}});return $.onsuccess=_e(function(we){$.onsuccess=be,be()}),Q.continue=M,Q.continuePrimaryKey=Y,Q.advance=re,be(),Ze},C(Q)):C(null)},K)})},count:function(w){var g=w.query,v=w.trans,S=g.index,P=g.range;return new Promise(function(E,C){var K=v.objectStore(b),K=S.isPrimaryKey?K:K.index(S.name),B=o(P),B=B?K.count(B):K.count();B.onsuccess=_e(function(F){return E(F.target.result)}),B.onerror=yt(C)})}}}u=y,c=Yo((y=e).objectStoreNames);var u,y={schema:{name:y.name,tables:c.map(function(m){return u.objectStore(m)}).map(function(m){var p=m.keyPath,b=m.autoIncrement,g=k(p),w={},g={name:m.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p==null,compound:g,keyPath:p,autoIncrement:b,unique:!0,extractKey:Oi(p)},indexes:Yo(m.indexNames).map(function(v){return m.index(v)}).map(function(E){var C=E.name,S=E.unique,P=E.multiEntry,E=E.keyPath,C={name:C,compound:k(E),keyPath:E,unique:S,multiEntry:P,extractKey:Oi(E)};return w[nr(E)]=C}),getIndexByKeyPath:function(v){return w[nr(v)]}};return w[":id"]=g.primaryKey,p!=null&&(w[nr(p)]=g.primaryKey),g})},hasGetAll:0<c.length&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},c=y.schema,h=y.hasGetAll,y=c.tables.map(s),O={};return y.forEach(function(m){return O[m.name]=m}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(m){if(O[m])return O[m];throw new Error("Table '".concat(m,"' not found"))},MIN_KEY:-1/0,MAX_KEY:tr(t),schema:c}}function zs(e,t,i,o){return i=i.IDBKeyRange,t=Vs(t,i,o),{dbcore:e.dbcore.reduce(function(s,u){return u=u.create,l(l({},s),u(s))},t)}}function Mr(e,t){var i=t.db,i=zs(e._middlewares,i,e._deps,t);e.core=i.dbcore,e.tables.forEach(function(o){var s=o.name;e.core.schema.tables.some(function(u){return u.name===s})&&(o.core=e.core.table(s),e[s]instanceof e.Table)&&(e[s].core=o.core)})}function Br(e,t,i,o){i.forEach(function(s){var u=o[s];t.forEach(function(c){var h=(function y(O,m){return q(O,m)||(O=A(O))&&y(O,m)})(c,s);(!h||"value"in h&&h.value===void 0)&&(c===e.Transaction.prototype||c instanceof e.Transaction?D(c,s,{get:function(){return this.table(s)},set:function(y){N(this,s,{value:y,writable:!0,configurable:!0,enumerable:!0})}}):c[s]=new e.Table(s,u))})})}function Ai(e,t){t.forEach(function(i){for(var o in i)i[o]instanceof e.Table&&delete i[o]})}function $s(e,t){return e._cfg.version-t._cfg.version}function Ys(e,t,i,o){var s=e._dbSchema,u=(i.objectStoreNames.contains("$meta")&&!s.$meta&&(s.$meta=Ei("$meta",Ho("")[0],[]),e._storeNames.push("$meta")),e._createTransaction("readwrite",e._storeNames,s)),c=(u.create(i),u._completion.catch(o),u._reject.bind(u)),h=W.transless||W;Kt(function(){if(W.trans=u,W.transless=h,t!==0)return Mr(e,i),O=t,((y=u).storeNames.includes("$meta")?y.table("$meta").get("version").then(function(m){return m??O}):V.resolve(O)).then(function(S){var p=e,b=S,w=u,g=i,v=[],S=p._versions,P=p._dbSchema=Lr(0,p.idbdb,g);return(S=S.filter(function(E){return E._cfg.version>=b})).length===0?V.resolve():(S.forEach(function(E){v.push(function(){var C,K,B,F=P,I=E._cfg.dbschema,$=(Ur(p,F,g),Ur(p,I,g),P=p._dbSchema=I,Si(F,I)),z=($.add.forEach(function(M){Pi(g,M[0],M[1].primKey,M[1].indexes)}),$.change.forEach(function(M){if(M.recreate)throw new H.Upgrade("Not yet support for changing primary key");var Y=g.objectStore(M.name);M.add.forEach(function(re){return Fr(Y,re)}),M.change.forEach(function(re){Y.deleteIndex(re.name),Fr(Y,re)}),M.del.forEach(function(re){return Y.deleteIndex(re)})}),E._cfg.contentUpgrade);if(z&&E._cfg.version>b)return Mr(p,g),w._memoizedTables={},C=ge(I),$.del.forEach(function(M){C[M]=F[M]}),Ai(p,[p.Transaction.prototype]),Br(p,[p.Transaction.prototype],_(C),C),w.schema=C,(K=qe(z))&&On(),I=V.follow(function(){var M;(B=z(w))&&K&&(M=It.bind(null,null),B.then(M,M))}),B&&typeof B.then=="function"?V.resolve(B):I.then(function(){return B})}),v.push(function(C){var K,B,F=E._cfg.dbschema;K=F,B=C,[].slice.call(B.db.objectStoreNames).forEach(function(I){return K[I]==null&&B.db.deleteObjectStore(I)}),Ai(p,[p.Transaction.prototype]),Br(p,[p.Transaction.prototype],p._storeNames,p._dbSchema),w.schema=p._dbSchema}),v.push(function(C){p.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(p.idbdb.version/10)===E._cfg.version?(p.idbdb.deleteObjectStore("$meta"),delete p._dbSchema.$meta,p._storeNames=p._storeNames.filter(function(K){return K!=="$meta"})):C.objectStore("$meta").put(E._cfg.version,"version"))})}),(function E(){return v.length?V.resolve(v.shift()(w.idbtrans)).then(E):V.resolve()})().then(function(){Wo(P,g)}))}).catch(c);var y,O;_(s).forEach(function(m){Pi(i,m,s[m].primKey,s[m].indexes)}),Mr(e,i),V.follow(function(){return e.on.populate.fire(u)}).catch(c)})}function Ws(e,t){Wo(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var i=Lr(0,e.idbdb,t);Ur(e,e._dbSchema,t);for(var o=0,s=Si(i,e._dbSchema).change;o<s.length;o++){var u=(c=>{if(c.change.length||c.recreate)return console.warn("Unable to patch indexes of table ".concat(c.name," because it has changes on the type of index or primary key.")),{value:void 0};var h=t.objectStore(c.name);c.add.forEach(function(y){vt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(c.name,".").concat(y.src)),Fr(h,y)})})(s[o]);if(typeof u=="object")return u.value}}function Si(e,t){var i,o={del:[],add:[],change:[]};for(i in e)t[i]||o.del.push(i);for(i in t){var s=e[i],u=t[i];if(s){var c={name:i,def:u,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(u.primKey.keyPath||"")||s.primKey.auto!==u.primKey.auto)c.recreate=!0,o.change.push(c);else{var h=s.idxByName,y=u.idxByName,O=void 0;for(O in h)y[O]||c.del.push(O);for(O in y){var m=h[O],p=y[O];m?m.src!==p.src&&c.change.push(p):c.add.push(p)}(0<c.del.length||0<c.add.length||0<c.change.length)&&o.change.push(c)}}else o.add.push([i,u])}return o}function Pi(e,t,i,o){var s=e.db.createObjectStore(t,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});o.forEach(function(u){return Fr(s,u)})}function Wo(e,t){_(e).forEach(function(i){t.db.objectStoreNames.contains(i)||(vt&&console.debug("Dexie: Creating missing table",i),Pi(t,i,e[i].primKey,e[i].indexes))})}function Fr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Lr(e,t,i){var o={};return ee(t.objectStoreNames,0).forEach(function(s){for(var u=i.objectStore(s),c=ki($o(O=u.keyPath),O||"",!0,!1,!!u.autoIncrement,O&&typeof O!="string",!0),h=[],y=0;y<u.indexNames.length;++y){var m=u.index(u.indexNames[y]),O=m.keyPath,m=ki(m.name,O,!!m.unique,!!m.multiEntry,!1,O&&typeof O!="string",!1);h.push(m)}o[s]=Ei(s,c,h)}),o}function Ur(e,t,i){for(var o=i.db.objectStoreNames,s=0;s<o.length;++s){var u=o[s],c=i.objectStore(u);e._hasGetAll="getAll"in c;for(var h=0;h<c.indexNames.length;++h){var y,O=c.indexNames[h],m=c.index(O).keyPath,m=typeof m=="string"?m:"["+ee(m).join("+")+"]";t[u]&&(y=t[u].idxByName[m])&&(y.name=O,delete t[u].idxByName[m],t[u].idxByName[O]=y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&d.WorkerGlobalScope&&d instanceof d.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Ho(e){return e.split(",").map(function(t,i){var s=t.split(":"),o=(o=s[1])==null?void 0:o.trim(),s=(t=s[0].trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(s)?s.match(/^\[(.*)\]$/)[1].split("+"):s;return ki(s,u||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),k(u),i===0,o)})}Cn.prototype._createTableSchema=Ei,Cn.prototype._parseIndexSyntax=Ho,Cn.prototype._parseStoresSpec=function(e,t){var i=this;_(e).forEach(function(o){if(e[o]!==null){var s=i._parseIndexSyntax(e[o]),u=s.shift();if(!u)throw new H.Schema("Invalid schema for table "+o+": "+e[o]);if(u.unique=!0,u.multi)throw new H.Schema("Primary key cannot be multiEntry*");s.forEach(function(c){if(c.auto)throw new H.Schema("Only primary key can be marked as autoIncrement (++)");if(!c.keyPath)throw new H.Schema("Index must have a name and cannot be an empty string")}),u=i._createTableSchema(o,u,s),t[o]=u}})},Cn.prototype.stores=function(i){var t=this.db,i=(this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,i):i,t._versions),o={},s={};return i.forEach(function(u){x(o,u._cfg.storesSource),s=u._cfg.dbschema={},u._parseStoresSpec(o,s)}),t._dbSchema=s,Ai(t,[t._allTables,t,t.Transaction.prototype]),Br(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],_(s),s),t._storeNames=_(s),this},Cn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=li(this._cfg.contentUpgrade||he,e),this};var Hs=Cn;function Cn(){}function Ci(e,t){var i=e._dbNamesDB;return i||(i=e._dbNamesDB=new Et(Kr,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),i.table("dbnames")}function Ti(e){return e&&typeof e.databases=="function"}function ji(e){return Kt(function(){return W.letThrough=!0,e()})}function Ki(e){return!("from"in e)}var Le=function(e,t){var i;if(!this)return i=new Le,e&&"d"in e&&x(i,e),i;x(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function rr(e,t,i){var o=te(t,i);if(!isNaN(o)){if(0<o)throw RangeError();if(Ki(e))return x(e,{from:t,to:i,d:1});var o=e.l,s=e.r;if(te(i,e.from)<0)return o?rr(o,t,i):e.l={from:t,to:i,d:1,l:null,r:null},Qo(e);if(0<te(t,e.to))return s?rr(s,t,i):e.r={from:t,to:i,d:1,l:null,r:null},Qo(e);te(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),0<te(i,e.to)&&(e.to=i,e.r=null,e.d=e.l?e.l.d+1:1),t=!e.r,o&&!e.l&&ir(e,o),s&&t&&ir(e,s)}}function ir(e,t){Ki(t)||(function i(o,s){var u=s.from,c=s.l,h=s.r;rr(o,u,s.to),c&&i(o,c),h&&i(o,h)})(e,t)}function Go(e,t){var i=Vr(t),o=i.next();if(!o.done)for(var s=o.value,u=Vr(e),c=u.next(s.from),h=c.value;!o.done&&!c.done;){if(te(h.from,s.to)<=0&&0<=te(h.to,s.from))return!0;te(s.from,h.from)<0?s=(o=i.next(h.from)).value:h=(c=u.next(s.from)).value}return!1}function Vr(e){var t=Ki(e)?null:{s:0,n:e};return{next:function(i){for(var o=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,o)for(;t.n.l&&te(i,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!o||te(i,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Qo(e){var t,i,o,s=(((s=e.r)==null?void 0:s.d)||0)-(((s=e.l)==null?void 0:s.d)||0),s=1<s?"r":s<-1?"l":"";s&&(t=s=="r"?"l":"r",i=l({},e),o=e[s],e.from=o.from,e.to=o.to,e[s]=o[s],i[s]=o[t],(e[t]=i).d=Xo(i)),e.d=Xo(e)}function Xo(i){var t=i.r,i=i.l;return(t?i?Math.max(t.d,i.d):t.d:i?i.d:0)+1}function zr(e,t){return _(t).forEach(function(i){e[i]?ir(e[i],t[i]):e[i]=(function o(s){var u,c,h={};for(u in s)j(s,u)&&(c=s[u],h[u]=!c||typeof c!="object"||Gt.has(c.constructor)?c:o(c));return h})(t[i])}),e}function Ii(e,t){return e.all||t.all||Object.keys(e).some(function(i){return t[i]&&Go(t[i],e[i])})}R(Le.prototype,((Ge={add:function(e){return ir(this,e),this},addKey:function(e){return rr(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(i){return rr(t,i,i)}),this},hasKey:function(e){var t=Vr(this).next(e).value;return t&&te(t.from,e)<=0&&0<=te(t.to,e)}})[ke]=function(){return Vr(this)},Ge));var an={},Ri={},Di=!1;function $r(e){zr(Ri,e),Di||(Di=!0,setTimeout(function(){Di=!1,qi(Ri,!(Ri={}))},0))}function qi(e,t){t===void 0&&(t=!1);var i=new Set;if(e.all)for(var o=0,s=Object.values(an);o<s.length;o++)Jo(h=s[o],e,i,t);else for(var u in e){var c,h,u=/^idb\:\/\/(.*)\/(.*)\//.exec(u);u&&(c=u[1],u=u[2],h=an["idb://".concat(c,"/").concat(u)])&&Jo(h,e,i,t)}i.forEach(function(y){return y()})}function Jo(e,t,i,o){for(var s=[],u=0,c=Object.entries(e.queries.query);u<c.length;u++){for(var h=c[u],y=h[0],O=[],m=0,p=h[1];m<p.length;m++){var b=p[m];Ii(t,b.obsSet)?b.subscribers.forEach(function(S){return i.add(S)}):o&&O.push(b)}o&&s.push([y,O])}if(o)for(var w=0,g=s;w<g.length;w++){var v=g[w],y=v[0],O=v[1];e.queries.query[y]=O}}function Gs(e){var t=e._state,i=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Ee(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var o=t.openCanceller,s=Math.round(10*e.verno),u=!1;function c(){if(t.openCanceller!==o)throw new H.DatabaseClosed("db.open() was cancelled")}function h(){return new V(function(b,w){if(c(),!i)throw new H.MissingAPI;var g=e.name,v=t.autoSchema||!s?i.open(g):i.open(g,s);if(!v)throw new H.MissingAPI;v.onerror=yt(w),v.onblocked=_e(e._fireOnBlocked),v.onupgradeneeded=_e(function(S){var P;m=v.transaction,t.autoSchema&&!e._options.allowEmptyDB?(v.onerror=Zn,m.abort(),v.result.close(),(P=i.deleteDatabase(g)).onsuccess=P.onerror=_e(function(){w(new H.NoSuchDatabase("Database ".concat(g," doesnt exist")))})):(m.onerror=yt(w),P=S.oldVersion>Math.pow(2,62)?0:S.oldVersion,p=P<1,e.idbdb=v.result,u&&Ws(e,m),Ys(e,P/10,m,w))},w),v.onsuccess=_e(function(){m=null;var S,P,E,C,K,B,F=e.idbdb=v.result,I=ee(F.objectStoreNames);if(0<I.length)try{var $=F.transaction((K=I).length===1?K[0]:K,"readonly");if(t.autoSchema)B=F,C=$,(E=e).verno=B.version/10,C=E._dbSchema=Lr(0,B,C),E._storeNames=ee(B.objectStoreNames,0),Br(E,[E._allTables],_(C),C);else if(Ur(e,e._dbSchema,$),P=$,((P=Si(Lr(0,(S=e).idbdb,P),S._dbSchema)).add.length||P.change.some(function(z){return z.add.length||z.change.length}))&&!u)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),F.close(),s=F.version+1,u=!0,b(h());Mr(e,$)}catch{}An.push(e),F.onversionchange=_e(function(z){t.vcFired=!0,e.on("versionchange").fire(z)}),F.onclose=_e(function(){e.close({disableAutoOpen:!1})}),p&&(I=e._deps,K=g,Ti(B=I.indexedDB)||K===Kr||Ci(B,I.IDBKeyRange).put({name:K}).catch(he)),b()},w)}).catch(function(b){switch(b?.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),h();break;case"VersionError":if(0<s)return s=0,h()}return V.reject(b)})}var y,O=t.dbReadyResolve,m=null,p=!1;return V.race([o,(typeof navigator>"u"?V.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(b){function w(){return indexedDB.databases().finally(b)}y=setInterval(w,100),w()}).finally(function(){return clearInterval(y)}):Promise.resolve()).then(h)]).then(function(){return c(),t.onReadyBeingFired=[],V.resolve(ji(function(){return e.on.ready.fire(e.vip)})).then(function b(){var w;if(0<t.onReadyBeingFired.length)return w=t.onReadyBeingFired.reduce(li,he),t.onReadyBeingFired=[],V.resolve(ji(function(){return w(e.vip)})).then(b)})}).finally(function(){t.openCanceller===o&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(b){t.dbOpenError=b;try{m&&m.abort()}catch{}return o===t.openCanceller&&e._close(),Ee(b)}).finally(function(){t.openComplete=!0,O()}).then(function(){var b;return p&&(b={},e.tables.forEach(function(w){w.schema.indexes.forEach(function(g){g.name&&(b["idb://".concat(e.name,"/").concat(w.name,"/").concat(g.name)]=new Le(-1/0,[[[]]]))}),b["idb://".concat(e.name,"/").concat(w.name,"/")]=b["idb://".concat(e.name,"/").concat(w.name,"/:dels")]=new Le(-1/0,[[[]]])}),qt(er).fire(b),qi(b,!0)),e})}function Ni(e){function t(u){return e.next(u)}var i=s(t),o=s(function(u){return e.throw(u)});function s(u){return function(h){var h=u(h),y=h.value;return h.done?y:y&&typeof y.then=="function"?y.then(i,o):k(y)?Promise.all(y).then(i,o):i(y)}}return s(t)()}function Yr(e,t,i){for(var o=k(e)?e.slice():[e],s=0;s<i;++s)o.push(t);return o}var Qs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return l(l({},e),{table:function(o){var i=e.table(o),o=i.schema,s={},u=[];function c(b,w,g){var E=nr(b),v=s[E]=s[E]||[],S=b==null?0:typeof b=="string"?1:b.length,P=0<w,E=l(l({},g),{name:P?"".concat(E,"(virtual-from:").concat(g.name,")"):g.name,lowLevelIndex:g,isVirtual:P,keyTail:w,keyLength:S,extractKey:Oi(b),unique:!P&&g.unique});return v.push(E),E.isPrimaryKey||u.push(E),1<S&&c(S===2?b[0]:b.slice(0,S-1),w+1,g),v.sort(function(C,K){return C.keyTail-K.keyTail}),E}var h=c(o.primaryKey.keyPath,0,o.primaryKey);s[":id"]=[h];for(var y=0,O=o.indexes;y<O.length;y++){var m=O[y];c(m.keyPath,0,m)}function p(b){var w,g=b.query.index;return g.isVirtual?l(l({},b),{query:{index:g.lowLevelIndex,range:(w=b.query.range,g=g.keyTail,{type:w.type===1?2:w.type,lower:Yr(w.lower,w.lowerOpen?e.MAX_KEY:e.MIN_KEY,g),lowerOpen:!0,upper:Yr(w.upper,w.upperOpen?e.MIN_KEY:e.MAX_KEY,g),upperOpen:!0})}}):b}return l(l({},i),{schema:l(l({},o),{primaryKey:h,indexes:u,getIndexByKeyPath:function(b){return(b=s[nr(b)])&&b[0]}}),count:function(b){return i.count(p(b))},query:function(b){return i.query(p(b))},openCursor:function(b){var w=b.query.index,g=w.keyTail,v=w.keyLength;return w.isVirtual?i.openCursor(p(b)).then(function(P){return P&&S(P)}):i.openCursor(b);function S(P){return Object.create(P,{continue:{value:function(E){E!=null?P.continue(Yr(E,b.reverse?e.MAX_KEY:e.MIN_KEY,g)):b.unique?P.continue(P.key.slice(0,v).concat(b.reverse?e.MIN_KEY:e.MAX_KEY,g)):P.continue()}},continuePrimaryKey:{value:function(E,C){P.continuePrimaryKey(Yr(E,e.MAX_KEY,g),C)}},primaryKey:{get:function(){return P.primaryKey}},key:{get:function(){var E=P.key;return v===1?E[0]:E.slice(0,v)}},value:{get:function(){return P.value}}})}}})}})}};function Mi(e,t,i,o){return i=i||{},o=o||"",_(e).forEach(function(s){var u,c,h;j(t,s)?(u=e[s],c=t[s],typeof u=="object"&&typeof c=="object"&&u&&c?(h=Qt(u))!==Qt(c)?i[o+s]=t[s]:h==="Object"?Mi(u,c,i,o+s+"."):u!==c&&(i[o+s]=t[s]):u!==c&&(i[o+s]=t[s])):i[o+s]=void 0}),_(t).forEach(function(s){j(e,s)||(i[o+s]=t[s])}),i}function Bi(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Xs={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return l(l({},e),{table:function(t){var i=e.table(t),o=i.schema.primaryKey;return l(l({},i),{mutate:function(s){var u=W.trans,c=u.table(t).hook,h=c.deleting,y=c.creating,O=c.updating;switch(s.type){case"add":if(y.fire===he)break;return u._promise("readwrite",function(){return m(s)},!0);case"put":if(y.fire===he&&O.fire===he)break;return u._promise("readwrite",function(){return m(s)},!0);case"delete":if(h.fire===he)break;return u._promise("readwrite",function(){return m(s)},!0);case"deleteRange":if(h.fire===he)break;return u._promise("readwrite",function(){return(function p(b,w,g){return i.query({trans:b,values:!1,query:{index:o,range:w},limit:g}).then(function(v){var S=v.result;return m({type:"delete",keys:S,trans:b}).then(function(P){return 0<P.numFailures?Promise.reject(P.failures[0]):S.length<g?{failures:[],numFailures:0,lastResult:void 0}:p(b,l(l({},w),{lower:S[S.length-1],lowerOpen:!0}),g)})})})(s.trans,s.range,1e4)},!0)}return i.mutate(s);function m(p){var b,w,g,v=W.trans,S=p.keys||Bi(o,p);if(S)return(p=p.type==="add"||p.type==="put"?l(l({},p),{keys:S}):l({},p)).type!=="delete"&&(p.values=f([],p.values)),p.keys&&(p.keys=f([],p.keys)),b=i,g=S,((w=p).type==="add"?Promise.resolve([]):b.getMany({trans:w.trans,keys:g,cache:"immutable"})).then(function(P){var E=S.map(function(C,K){var B,F,I,$=P[K],z={onerror:null,onsuccess:null};return p.type==="delete"?h.fire.call(z,C,$,v):p.type==="add"||$===void 0?(B=y.fire.call(z,C,p.values[K],v),C==null&&B!=null&&(p.keys[K]=C=B,o.outbound||ne(p.values[K],o.keyPath,C))):(B=Mi($,p.values[K]),(F=O.fire.call(z,B,C,$,v))&&(I=p.values[K],Object.keys(F).forEach(function(M){j(I,M)?I[M]=F[M]:ne(I,M,F[M])}))),z});return i.mutate(p).then(function(C){for(var K=C.failures,B=C.results,F=C.numFailures,C=C.lastResult,I=0;I<S.length;++I){var $=(B||S)[I],z=E[I];$==null?z.onerror&&z.onerror(K[I]):z.onsuccess&&z.onsuccess(p.type==="put"&&P[I]?p.values[I]:$)}return{failures:K,results:B,numFailures:F,lastResult:C}}).catch(function(C){return E.forEach(function(K){return K.onerror&&K.onerror(C)}),Promise.reject(C)})});throw new Error("Keys missing")}}})}})}};function Zo(e,t,i){try{if(!t||t.keys.length<e.length)return null;for(var o=[],s=0,u=0;s<t.keys.length&&u<e.length;++s)te(t.keys[s],e[u])===0&&(o.push(i?at(t.values[s]):t.values[s]),++u);return o.length===e.length?o:null}catch{return null}}var Js={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var i=e.table(t);return l(l({},i),{getMany:function(o){var s;return o.cache?(s=Zo(o.keys,o.trans._cache,o.cache==="clone"))?V.resolve(s):i.getMany(o).then(function(u){return o.trans._cache={keys:o.keys,values:o.cache==="clone"?at(u):u},u}):i.getMany(o)},mutate:function(o){return o.type!=="add"&&(o.trans._cache=null),i.mutate(o)}})}}}};function ea(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function ta(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Zs={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,i=new Le(e.MIN_KEY,e.MAX_KEY);return l(l({},e),{transaction:function(o,s,u){if(W.subscr&&s!=="readonly")throw new H.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(W.querier));return e.transaction(o,s,u)},table:function(o){function s(S){var v,S=S.query;return[v=S.index,new Le((v=(S=S.range).lower)!=null?v:e.MIN_KEY,(v=S.upper)!=null?v:e.MAX_KEY)]}var u=e.table(o),c=u.schema,h=c.primaryKey,y=c.indexes,O=h.extractKey,m=h.outbound,p=h.autoIncrement&&y.filter(function(g){return g.compound&&g.keyPath.includes(h.keyPath)}),b=l(l({},u),{mutate:function(g){function v(Y){return Y="idb://".concat(t,"/").concat(o,"/").concat(Y),K[Y]||(K[Y]=new Le)}var S,P,E,C=g.trans,K=g.mutatedParts||(g.mutatedParts={}),B=v(""),F=v(":dels"),I=g.type,z=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Bi(h,g).filter(function(Y){return Y}),g.values]:[],$=z[0],z=z[1],M=g.trans._cache;return k($)?(B.addKeys($),(I=I==="delete"||$.length===z.length?Zo($,M):null)||F.addKeys($),(I||z)&&(S=v,P=I,E=z,c.indexes.forEach(function(Y){var re=S(Y.name||"");function le(Z){return Z!=null?Y.extractKey(Z):null}function Q(Z){Y.multiEntry&&k(Z)?Z.forEach(function(be){return re.addKey(be)}):re.addKey(Z)}(P||E).forEach(function(Z,we){var Ze=P&&le(P[we]),we=E&&le(E[we]);te(Ze,we)!==0&&(Ze!=null&&Q(Ze),we!=null)&&Q(we)})}))):$?(z={from:(M=$.lower)!=null?M:e.MIN_KEY,to:(I=$.upper)!=null?I:e.MAX_KEY},F.add(z),B.add(z)):(B.add(i),F.add(i),c.indexes.forEach(function(Y){return v(Y.name).add(i)})),u.mutate(g).then(function(Y){return!$||g.type!=="add"&&g.type!=="put"||(B.addKeys(Y.results),p&&p.forEach(function(re){for(var le=g.values.map(function(Ze){return re.extractKey(Ze)}),Q=re.keyPath.findIndex(function(Ze){return Ze===h.keyPath}),Z=0,be=Y.results.length;Z<be;++Z)le[Z][Q]=Y.results[Z];v(re.name).addKeys(le)})),C.mutatedParts=zr(C.mutatedParts||{},K),Y})}}),w={get:function(g){return[h,new Le(g.key)]},getMany:function(g){return[h,new Le().addKeys(g.keys)]},count:s,query:s,openCursor:s};return _(w).forEach(function(g){b[g]=function(v){var S=W.subscr,P=!!S,E=ea(W,u)&&ta(g,v)?v.obsSet={}:S;if(P){var C,S=function(z){return z="idb://".concat(t,"/").concat(o,"/").concat(z),E[z]||(E[z]=new Le)},K=S(""),B=S(":dels"),P=w[g](v),F=P[0],P=P[1];if((g==="query"&&F.isPrimaryKey&&!v.values?B:S(F.name||"")).add(P),!F.isPrimaryKey){if(g!=="count")return C=g==="query"&&m&&v.values&&u.query(l(l({},v),{values:!1})),u[g].apply(this,arguments).then(function(z){if(g==="query"){if(m&&v.values)return C.then(function(le){return le=le.result,K.addKeys(le),z});var M=v.values?z.result.map(O):z.result;(v.values?K:B).addKeys(M)}else{var Y,re;if(g==="openCursor")return re=v.values,(Y=z)&&Object.create(Y,{key:{get:function(){return B.addKey(Y.primaryKey),Y.key}},primaryKey:{get:function(){var le=Y.primaryKey;return B.addKey(le),le}},value:{get:function(){return re&&K.addKey(Y.primaryKey),Y.value}}})}return z});B.add(i)}}return u[g].apply(this,arguments)}}),b}})}};function na(e,t,i){var o;return i.numFailures===0?t:t.type==="deleteRange"||(o=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1,i.numFailures===o)?null:(o=l({},t),k(o.keys)&&(o.keys=o.keys.filter(function(s,u){return!(u in i.failures)})),"values"in o&&k(o.values)&&(o.values=o.values.filter(function(s,u){return!(u in i.failures)})),o)}function Fi(e,t){return i=e,((o=t).lower===void 0||(o.lowerOpen?0<te(i,o.lower):0<=te(i,o.lower)))&&(i=e,(o=t).upper===void 0||(o.upperOpen?te(i,o.upper)<0:te(i,o.upper)<=0));var i,o}function ra(e,t,i,o,s,u){var c,h,y,O,m,p;return!i||i.length===0||(c=t.query.index,h=c.multiEntry,y=t.query.range,O=o.schema.primaryKey.extractKey,m=c.extractKey,p=(c.lowLevelIndex||c).extractKey,(o=i.reduce(function(b,w){var g=b,v=[];if(w.type==="add"||w.type==="put")for(var S=new Le,P=w.values.length-1;0<=P;--P){var E,C=w.values[P],K=O(C);!S.hasKey(K)&&(E=m(C),h&&k(E)?E.some(function(z){return Fi(z,y)}):Fi(E,y))&&(S.addKey(K),v.push(C))}switch(w.type){case"add":var B=new Le().addKeys(t.values?b.map(function(M){return O(M)}):b),g=b.concat(t.values?v.filter(function(M){return M=O(M),!B.hasKey(M)&&(B.addKey(M),!0)}):v.map(function(M){return O(M)}).filter(function(M){return!B.hasKey(M)&&(B.addKey(M),!0)}));break;case"put":var F=new Le().addKeys(w.values.map(function(M){return O(M)}));g=b.filter(function(M){return!F.hasKey(t.values?O(M):M)}).concat(t.values?v:v.map(function(M){return O(M)}));break;case"delete":var I=new Le().addKeys(w.keys);g=b.filter(function(M){return!I.hasKey(t.values?O(M):M)});break;case"deleteRange":var $=w.range;g=b.filter(function(M){return!Fi(O(M),$)})}return g},e))===e)?e:(o.sort(function(b,w){return te(p(b),p(w))||te(O(b),O(w))}),t.limit&&t.limit<1/0&&(o.length>t.limit?o.length=t.limit:e.length===t.limit&&o.length<t.limit&&(s.dirty=!0)),u?Object.freeze(o):o)}function ia(e,t){return te(e.lower,t.lower)===0&&te(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function eu(e,t){return((i,o,s,u)=>{if(i===void 0)return o!==void 0?-1:0;if(o===void 0)return 1;if((i=te(i,o))===0){if(s&&u)return 0;if(s)return 1;if(u)return-1}return i})(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=((i,o,s,u)=>{if(i===void 0)return o!==void 0?1:0;if(o===void 0)return-1;if((i=te(i,o))===0){if(s&&u)return 0;if(s)return-1;if(u)return 1}return i})(e.upper,t.upper,e.upperOpen,t.upperOpen)}function tu(e,t,i,o){e.subscribers.add(i),o.addEventListener("abort",function(){var s,u;e.subscribers.delete(i),e.subscribers.size===0&&(s=e,u=t,setTimeout(function(){s.subscribers.size===0&&se(u,s)},3e3))})}var nu={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return l(l({},e),{transaction:function(i,o,s){var u,c,h=e.transaction(i,o,s);return o==="readwrite"&&(s=(u=new AbortController).signal,h.addEventListener("abort",(c=function(y){return function(){if(u.abort(),o==="readwrite"){for(var O=new Set,m=0,p=i;m<p.length;m++){var b=p[m],w=an["idb://".concat(t,"/").concat(b)];if(w){var g=e.table(b),v=w.optimisticOps.filter(function(Y){return Y.trans===h});if(h._explicit&&y&&h.mutatedParts)for(var S=0,P=Object.values(w.queries.query);S<P.length;S++)for(var E=0,C=(F=P[S]).slice();E<C.length;E++)Ii((I=C[E]).obsSet,h.mutatedParts)&&(se(F,I),I.subscribers.forEach(function(Y){return O.add(Y)}));else if(0<v.length){w.optimisticOps=w.optimisticOps.filter(function(Y){return Y.trans!==h});for(var K=0,B=Object.values(w.queries.query);K<B.length;K++)for(var F,I,$,z=0,M=(F=B[K]).slice();z<M.length;z++)(I=M[z]).res!=null&&h.mutatedParts&&(y&&!I.dirty?($=Object.isFrozen(I.res),$=ra(I.res,I.req,v,g,I,$),I.dirty?(se(F,I),I.subscribers.forEach(function(Y){return O.add(Y)})):$!==I.res&&(I.res=$,I.promise=V.resolve({result:$}))):(I.dirty&&se(F,I),I.subscribers.forEach(function(Y){return O.add(Y)})))}}}O.forEach(function(Y){return Y()})}}})(!1),{signal:s}),h.addEventListener("error",c(!1),{signal:s}),h.addEventListener("complete",c(!0),{signal:s})),h},table:function(i){var o=e.table(i),s=o.schema.primaryKey;return l(l({},o),{mutate:function(u){var c,h=W.trans;return!s.outbound&&h.db._options.cache!=="disabled"&&!h.explicit&&h.idbtrans.mode==="readwrite"&&(c=an["idb://".concat(t,"/").concat(i)])?(h=o.mutate(u),u.type!=="add"&&u.type!=="put"||!(50<=u.values.length||Bi(s,u).some(function(y){return y==null}))?(c.optimisticOps.push(u),u.mutatedParts&&$r(u.mutatedParts),h.then(function(y){0<y.numFailures&&(se(c.optimisticOps,u),(y=na(0,u,y))&&c.optimisticOps.push(y),u.mutatedParts)&&$r(u.mutatedParts)}),h.catch(function(){se(c.optimisticOps,u),u.mutatedParts&&$r(u.mutatedParts)})):h.then(function(y){var O=na(0,l(l({},u),{values:u.values.map(function(m,p){var b;return y.failures[p]?m:(ne(b=(b=s.keyPath)!=null&&b.includes(".")?at(m):l({},m),s.keyPath,y.results[p]),b)})}),y);c.optimisticOps.push(O),queueMicrotask(function(){return u.mutatedParts&&$r(u.mutatedParts)})}),h):o.mutate(u)},query:function(u){var c,h,y,O,m,p,b;return ea(W,o)&&ta("query",u)?(c=((y=W.trans)==null?void 0:y.db._options.cache)==="immutable",h=(y=W).requery,y=y.signal,p=((w,g,v,S)=>{var P=an["idb://".concat(w,"/").concat(g)];if(!P)return[];if(!(w=P.queries[v]))return[null,!1,P,null];var E=w[(S.query?S.query.index.name:null)||""];if(!E)return[null,!1,P,null];switch(v){case"query":var C=E.find(function(K){return K.req.limit===S.limit&&K.req.values===S.values&&ia(K.req.query.range,S.query.range)});return C?[C,!0,P,E]:[E.find(function(K){return("limit"in K.req?K.req.limit:1/0)>=S.limit&&(!S.values||K.req.values)&&eu(K.req.query.range,S.query.range)}),!1,P,E];case"count":return C=E.find(function(K){return ia(K.req.query.range,S.query.range)}),[C,!!C,P,E]}})(t,i,"query",u),b=p[0],O=p[2],m=p[3],b&&p[1]?b.obsSet=u.obsSet:(p=o.query(u).then(function(w){var g=w.result;if(b&&(b.res=g),c){for(var v=0,S=g.length;v<S;++v)Object.freeze(g[v]);Object.freeze(g)}else w.result=at(g);return w}).catch(function(w){return m&&b&&se(m,b),Promise.reject(w)}),b={obsSet:u.obsSet,promise:p,subscribers:new Set,type:"query",req:u,dirty:!1},m?m.push(b):(m=[b],(O=O||(an["idb://".concat(t,"/").concat(i)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[u.query.index.name||""]=m)),tu(b,m,h,y),b.promise.then(function(w){return{result:ra(w.result,u,O?.optimisticOps,o,b,c)}})):o.query(u)}})}})}};function Wr(e,t){return new Proxy(e,{get:function(i,o,s){return o==="db"?t:Reflect.get(i,o,s)}})}Oe.prototype.version=function(e){if(isNaN(e)||e<.1)throw new H.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new H.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,i=t.filter(function(o){return o._cfg.version===e})[0];return i||(i=new this.Version(e),t.push(i),t.sort($s),i.stores({}),this._state.autoSchema=!1),i},Oe.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||W.letThrough||this._vip)?e():new V(function(i,o){if(t._state.openComplete)return o(new H.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void o(new H.DatabaseClosed);t.open().catch(he)}t._state.dbReadyPromise.then(i,o)}).then(e)},Oe.prototype.use=function(s){var t=s.stack,i=s.create,o=s.level,s=s.name,u=(s&&this.unuse({stack:t,name:s}),this._middlewares[t]||(this._middlewares[t]=[]));return u.push({stack:t,create:i,level:o??10,name:s}),u.sort(function(c,h){return c.level-h.level}),this},Oe.prototype.unuse=function(e){var t=e.stack,i=e.name,o=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(s){return o?s.create!==o:!!i&&s.name!==i})),this},Oe.prototype.open=function(){var e=this;return nn(jt,function(){return Gs(e)})},Oe.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=An.indexOf(this);if(0<=t&&An.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new V(function(i){e.dbReadyResolve=i}),e.openCanceller=new V(function(i,o){e.cancelOpen=o}))},Oe.prototype.close=function(t){var t=(t===void 0?{disableAutoOpen:!0}:t).disableAutoOpen,i=this._state;t?(i.isBeingOpened&&i.cancelOpen(new H.DatabaseClosed),this._close(),i.autoOpen=!1,i.dbOpenError=new H.DatabaseClosed):(this._close(),i.autoOpen=this._options.autoOpen||i.isBeingOpened,i.openComplete=!1,i.dbOpenError=null)},Oe.prototype.delete=function(e){var t=this,i=(e===void 0&&(e={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),o=this._state;return new V(function(s,u){function c(){t.close(e);var h=t._deps.indexedDB.deleteDatabase(t.name);h.onsuccess=_e(function(){var y,O,m;y=t._deps,O=t.name,Ti(m=y.indexedDB)||O===Kr||Ci(m,y.IDBKeyRange).delete(O).catch(he),s()}),h.onerror=yt(u),h.onblocked=t._fireOnBlocked}if(i)throw new H.InvalidArgument("Invalid closeOptions argument to db.delete()");o.isBeingOpened?o.dbReadyPromise.then(c):c()})},Oe.prototype.backendDB=function(){return this.idbdb},Oe.prototype.isOpen=function(){return this.idbdb!==null},Oe.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},Oe.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Oe.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Oe.prototype,"tables",{get:function(){var e=this;return _(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),Oe.prototype.transaction=function(){var e=function(t,i,o){var s=arguments.length;if(s<2)throw new H.InvalidArgument("Too few arguments");for(var u=new Array(s-1);--s;)u[s-1]=arguments[s];return o=u.pop(),[t,Ue(u),o]}.apply(this,arguments);return this._transaction.apply(this,e)},Oe.prototype._transaction=function(e,t,i){var o,s,u=this,c=W.trans,h=(c&&c.db===this&&e.indexOf("!")===-1||(c=null),e.indexOf("?")!==-1);e=e.replace("!","").replace("?","");try{if(s=t.map(function(O){if(O=O instanceof u.Table?O.name:O,typeof O!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return O}),e=="r"||e===gi)o=gi;else{if(e!="rw"&&e!=_i)throw new H.InvalidArgument("Invalid transaction mode: "+e);o=_i}if(c){if(c.mode===gi&&o===_i){if(!h)throw new H.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");c=null}c&&s.forEach(function(O){if(c&&c.storeNames.indexOf(O)===-1){if(!h)throw new H.SubTransaction("Table "+O+" not included in parent transaction.");c=null}}),h&&c&&!c.active&&(c=null)}}catch(O){return c?c._promise(null,function(m,p){p(O)}):Ee(O)}var y=function O(m,p,b,w,g){return V.resolve().then(function(){var E=W.transless||W,v=m._createTransaction(p,b,m._dbSchema,w),E=(v.explicit=!0,{trans:v,transless:E});if(w)v.idbtrans=w.idbtrans;else try{v.create(),v.idbtrans._explicit=!0,m._state.PR1398_maxLoop=3}catch(C){return C.name===He.InvalidState&&m.isOpen()&&0<--m._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),m.close({disableAutoOpen:!1}),m.open().then(function(){return O(m,p,b,null,g)})):Ee(C)}var S,P=qe(g),E=(P&&On(),V.follow(function(){var C;(S=g.call(v,v))&&(P?(C=It.bind(null,null),S.then(C,C)):typeof S.next=="function"&&typeof S.throw=="function"&&(S=Ni(S)))},E));return(S&&typeof S.then=="function"?V.resolve(S).then(function(C){return v.active?C:Ee(new H.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):E.then(function(){return S})).then(function(C){return w&&v._resolve(),v._completion.then(function(){return C})}).catch(function(C){return v._reject(C),Ee(C)})})}.bind(null,this,o,s,c,i);return c?c._promise(o,y,"lock"):W.trans?nn(W.transless,function(){return u._whenReady(y)}):this._whenReady(y)},Oe.prototype.table=function(e){if(j(this._allTables,e))return this._allTables[e];throw new H.InvalidTable("Table ".concat(e," does not exist"))};var Et=Oe;function Oe(e,t){var i,o,s,u,c,h=this,y=(this._middlewares={},this.verno=0,Oe.dependencies),y=(this._options=t=l({addons:Oe.addons,autoOpen:!0,indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},t.addons),O=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:he,dbReadyPromise:null,cancelOpen:he,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen}),m=(O.dbReadyPromise=new V(function(p){O.dbReadyResolve=p}),O.openCanceller=new V(function(p,b){O.cancelOpen=b}),this._state=O,this.name=e,this.on=Xn(this,"populate","blocked","versionchange","close",{ready:[li,he]}),this.once=function(p,b){var w=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];h.on(p).unsubscribe(w),b.apply(h,g)};return h.on(p,w)},this.on.ready.subscribe=pe(this.on.ready.subscribe,function(p){return function(b,w){Oe.vip(function(){var g,v=h._state;v.openComplete?(v.dbOpenError||V.resolve().then(b),w&&p(b)):v.onReadyBeingFired?(v.onReadyBeingFired.push(b),w&&p(b)):(p(b),g=h,w||p(function S(){g.on.ready.unsubscribe(b),g.on.ready.unsubscribe(S)}))})}}),this.Collection=(i=this,Jn(Ms.prototype,function(S,v){this.db=i;var w=Io,g=null;if(v)try{w=v()}catch(E){g=E}var v=S._ctx,S=v.table,P=S.hook.reading.fire;this._ctx={table:S,index:v.index,isPrimKey:!v.index||S.schema.primKey.keyPath&&v.index===S.schema.primKey.name,range:w,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:g,or:v.or,valueMapper:P!==$n?P:null}})),this.Table=(o=this,Jn(Bo.prototype,function(p,b,w){this.db=o,this._tx=w,this.name=p,this.schema=b,this.hook=o._allTables[p]?o._allTables[p].hook:Xn(null,{creating:[Cs,he],reading:[Ps,$n],updating:[js,he],deleting:[Ts,he]})})),this.Transaction=(s=this,Jn(Ls.prototype,function(p,b,w,g,v){var S=this;p!=="readonly"&&b.forEach(function(P){P=(P=w[P])==null?void 0:P.yProps,P&&(b=b.concat(P.map(function(E){return E.updatesTable})))}),this.db=s,this.mode=p,this.storeNames=b,this.schema=w,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=Xn(this,"complete","error","abort"),this.parent=v||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new V(function(P,E){S._resolve=P,S._reject=E}),this._completion.then(function(){S.active=!1,S.on.complete.fire()},function(P){var E=S.active;return S.active=!1,S.on.error.fire(P),S.parent?S.parent._reject(P):E&&S.idbtrans&&S.idbtrans.abort(),Ee(P)})})),this.Version=(u=this,Jn(Hs.prototype,function(p){this.db=u,this._cfg={version:p,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(c=this,Jn(zo.prototype,function(p,b,w){if(this.db=c,this._ctx={table:p,index:b===":id"?null:b,or:w},this._cmp=this._ascending=te,this._descending=function(g,v){return te(v,g)},this._max=function(g,v){return 0<te(g,v)?g:v},this._min=function(g,v){return te(g,v)<0?g:v},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new H.MissingAPI})),this.on("versionchange",function(p){0<p.newVersion?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(p){!p.newVersion||p.newVersion<p.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(p.oldVersion/10))}),this._maxKey=tr(t.IDBKeyRange),this._createTransaction=function(p,b,w,g){return new h.Transaction(p,b,w,h._options.chromeTransactionDurability,g)},this._fireOnBlocked=function(p){h.on("blocked").fire(p),An.filter(function(b){return b.name===h.name&&b!==h&&!b._state.vcFired}).map(function(b){return b.on("versionchange").fire(p)})},this.use(Js),this.use(nu),this.use(Zs),this.use(Qs),this.use(Xs),new Proxy(this,{get:function(p,b,w){var g;return b==="_vip"||(b==="table"?function(v){return Wr(h.table(v),m)}:(g=Reflect.get(p,b,w))instanceof Bo?Wr(g,m):b==="tables"?g.map(function(v){return Wr(v,m)}):b==="_createTransaction"?function(){return Wr(g.apply(this,arguments),m)}:g)}}));this.vip=m,y.forEach(function(p){return p(h)})}var Hr,Tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ru=(Li.prototype.subscribe=function(e,t,i){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:i})},Li.prototype[Tn]=function(){return this},Li);function Li(e){this._subscribe=e}try{Hr={indexedDB:d.indexedDB||d.mozIndexedDB||d.webkitIndexedDB||d.msIndexedDB,IDBKeyRange:d.IDBKeyRange||d.webkitIDBKeyRange}}catch{Hr={indexedDB:null,IDBKeyRange:null}}function oa(e){var t,i=!1,o=new ru(function(s){var u=qe(e),c,h=!1,y={},O={},m={get closed(){return h},unsubscribe:function(){h||(h=!0,c&&c.abort(),p&&qt.storagemutated.unsubscribe(w))}},p=(s.start&&s.start(m),!1),b=function(){return mi(g)},w=function(v){zr(y,v),Ii(O,y)&&b()},g=function(){var v,S,P;!h&&Hr.indexedDB&&(y={},v={},c&&c.abort(),c=new AbortController,P=(E=>{var C=kn();try{u&&On();var K=Kt(e,E);return K=u?K.finally(It):K}finally{C&&En()}})(S={subscr:v,signal:c.signal,requery:b,querier:e,trans:null}),Promise.resolve(P).then(function(E){i=!0,t=E,h||S.signal.aborted||(y={},(C=>{for(var K in C)if(j(C,K))return;return 1})(O=v)||p||(qt(er,w),p=!0),mi(function(){return!h&&s.next&&s.next(E)}))},function(E){i=!1,["DatabaseClosedError","AbortError"].includes(E?.name)||h||mi(function(){h||s.error&&s.error(E)})}))};return setTimeout(b,0),m});return o.hasValue=function(){return i},o.getValue=function(){return t},o}var sn=Et;function Ui(e){var t=Nt;try{Nt=!0,qt.storagemutated.fire(e),qi(e,!0)}finally{Nt=t}}R(sn,l(l({},Te),{delete:function(e){return new sn(e,{addons:[]}).delete()},exists:function(e){return new sn(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=sn.dependencies,i=t.indexedDB,t=t.IDBKeyRange,(Ti(i)?Promise.resolve(i.databases()).then(function(o){return o.map(function(s){return s.name}).filter(function(s){return s!==Kr})}):Ci(i,t).toCollection().primaryKeys()).then(e)}catch{return Ee(new H.MissingAPI)}var t,i},defineClass:function(){return function(e){x(this,e)}},ignoreTransaction:function(e){return W.trans?nn(W.transless,e):e()},vip:ji,async:function(e){return function(){try{var t=Ni(e.apply(this,arguments));return t&&typeof t.then=="function"?t:V.resolve(t)}catch(i){return Ee(i)}}},spawn:function(e,t,i){try{var o=Ni(e.apply(i,t||[]));return o&&typeof o.then=="function"?o:V.resolve(o)}catch(s){return Ee(s)}},currentTransaction:{get:function(){return W.trans||null}},waitFor:function(e,t){return e=V.resolve(typeof e=="function"?sn.ignoreTransaction(e):e).timeout(t||6e4),W.trans?W.trans.waitFor(e):e},Promise:V,debug:{get:function(){return vt},set:function(e){Ao(e)}},derive:U,extend:x,props:R,override:pe,Events:Xn,on:qt,liveQuery:oa,extendObservabilitySet:zr,getByKeyPath:de,setByKeyPath:ne,delByKeyPath:function(e,t){typeof t=="string"?ne(e,t,void 0):"length"in t&&[].map.call(t,function(i){ne(e,i,void 0)})},shallowClone:ge,deepClone:at,getObjectDiff:Mi,cmp:te,asap:Ce,minKey:-1/0,addons:[],connections:An,errnames:He,dependencies:Hr,cache:an,semVer:"4.3.0",version:"4.3.0".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,i){return e+t/Math.pow(10,2*i)})})),sn.maxKey=tr(sn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(qt(er,function(e){Nt||(e=new CustomEvent(xi,{detail:e}),Nt=!0,dispatchEvent(e),Nt=!1)}),addEventListener(xi,function(e){e=e.detail,Nt||Ui(e)}));var jn,Nt=!1,aa=function(){};return typeof BroadcastChannel<"u"&&((aa=function(){(jn=new BroadcastChannel(xi)).onmessage=function(e){return e.data&&Ui(e.data)}})(),typeof jn.unref=="function"&&jn.unref(),qt(er,function(e){Nt||jn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!Et.disableBfCache&&e.persisted){vt&&console.debug("Dexie: handling persisted pagehide"),jn?.close();for(var t=0,i=An;t<i.length;t++)i[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Et.disableBfCache&&e.persisted&&(vt&&console.debug("Dexie: handling persisted pageshow"),aa(),Ui({all:new Le(-1/0,[[]])}))})),V.rejectionMapper=function(e,t){return!e||e instanceof Ve||e instanceof TypeError||e instanceof SyntaxError||!e.name||!kr[e.name]?e:(t=new kr[e.name](t||e.message,e),"stack"in e&&D(t,"stack",{get:function(){return this.inner.stack}}),t)},Ao(vt),l(Et,Object.freeze({__proto__:null,Dexie:Et,Entity:Ro,PropModification:Qn,RangeSet:Le,add:function(e){return new Qn({add:e})},cmp:te,default:Et,liveQuery:oa,mergeRanges:ir,rangesOverlap:Go,remove:function(e){return new Qn({remove:e})},replacePrefix:function(e,t){return new Qn({replacePrefix:[e,t]})}}),{default:Et}),Et})})(ei)),ei.exports}var Zl=Jl();const lo=Ql(Zl),Aa=Symbol.for("Dexie"),ii=globalThis[Aa]||(globalThis[Aa]=lo);if(lo.semVer!==ii.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${lo.semVer} and ${ii.semVer}`);const{liveQuery:Cc,mergeRanges:Tc,rangesOverlap:jc,RangeSet:Kc,cmp:Ic,Entity:Rc,PropModification:Dc,replacePrefix:qc,add:Nc,remove:Mc,DexieYProvider:Bc}=ii;const xs=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ks=n=>encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent),xo=decodeURIComponent,ko=n=>(n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function ec(n){return n=Object.assign({},n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires!=null&&(n.expires=n.expires.toUTCString()),Object.entries(n).filter(([r,a])=>a!=null&&a!==!1).map(([r,a])=>a===!0?`; ${r}`:`; ${r}=${a.split(";")[0]}`).join("")}function Es(n,r,a){const l=/(?:^|; )([^=]*)=([^;]*)/g,f={};let d;for(;(d=l.exec(document.cookie))!=null;)try{const _=a(d[1]);if(f[_]=r(d[2],_),n===_)break}catch{}return n!=null?f[n]:f}const Sa=Object.freeze({decodeName:xo,decodeValue:ko,encodeName:xs,encodeValue:ks}),Eo=Object.freeze({path:"/"});function Oo(n,r,a=Eo,{encodeValue:l=ks,encodeName:f=xs}={}){return document.cookie=`${f(n)}=${l(r,n)}${ec(a)}`}function Os(n,{decodeValue:r=ko,decodeName:a=xo}={}){return Es(n,r,a)}function tc({decodeValue:n=ko,decodeName:r=xo}={}){return Es(void 0,n,r)}function As(n,r=Eo){Oo(n,"",Object.assign({},r,{expires:-1}))}function co(n,r){const a={set:function(f,d,_){return Oo(f,d,Object.assign({},this.attributes,_),{encodeValue:this.converter.write})},get:function(f){if(arguments.length===0)return tc(this.converter.read);if(f!=null)return Os(f,this.converter.read)},remove:function(f,d){As(f,Object.assign({},this.attributes,d))},withAttributes:function(f){return co(this.converter,Object.assign({},this.attributes,f))},withConverter:function(f){return co(Object.assign({},this.converter,f),this.attributes)}},l={attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}};return Object.create(a,l)}co({read:Sa.decodeValue,write:Sa.encodeValue},Eo);const wr=new ii("umamusume");wr.version(1).stores({events:"++id",images:"id"});const ti=wr.table("events"),Yi=wr.table("images"),nc=async n=>{const a=await(await fetch("uma.json",{cache:"no-cache"})).json();return a&&await wr.transaction("rw!",ti,async()=>{await ti.clear(),await ti.bulkAdd(a)}).then(()=>Oo("last",n,{expires:365})),a},Ss=async()=>{const r=await(await fetch("last",{cache:"no-cache"})).text();let a;return r!=Os("last")?a=await nc(r):a=await ti.toArray(),!a||!a.length?(As("last"),await Ss()):a},In=await Ss(),rc=Array.from(In.filter(n=>n.t=="c"),n=>({name:n.c,image:n.i})).concat(Array.from(In.filter(n=>n.t=="m"),n=>({name:n.c,image:n.i}))).filter((n,r,a)=>a.findIndex(l=>l.name==n.name)==r);class ic{#e=ze(fn({type:"character",name:"",image:""}));get filter(){return L(this.#e)}set filter(r){je(this.#e,r,!0)}#a=ze(fn({rare:"SSR"}));get support(){return L(this.#a)}set support(r){je(this.#a,r,!0)}#t=ze("");get query(){return L(this.#t)}set query(r){je(this.#t,r,!0)}#i=ze(0);get count(){return L(this.#i)}set count(r){je(this.#i,r,!0)}#n=Mn(()=>{let r=[];if(this.filter.name?this.filter.type=="character"?r=In.filter(a=>(a.t=="c"||a.t=="m")&&a.c==this.filter.name):this.filter.type=="support"&&(r=In.filter(a=>a.t=="s"&&a.i==this.filter.image)):r=In,this.count=r.length,r.sort((a,l)=>a.c==l.c?a.t==l.t?a.r==l.r?a.e.localeCompare(l.e):a.r.localeCompare(l.r):a.t.localeCompare(l.t):a.c.localeCompare(l.c)),this.query){const a=[];return r.forEach(l=>{this.#r(X.query,l)&&a.push(l)}),a}else return r});get events(){return L(this.#n)}set events(r){je(this.#n,r)}#o=Mn(()=>{let r=Array.from(In.filter(a=>a.t=="s"),a=>({name:a.c,rare:a.r,image:a.i})).filter((a,l,f)=>f.findIndex(d=>d.image==a.image)==l);return this.support.type&&(r=r.filter(a=>a.rare.includes(this.support.type))),this.support.rare&&(r=r.filter(a=>a.rare.replace(/[^SR]+/g,"")==this.support.rare)),r.sort((a,l)=>a.rare.replace(/[^SR]+/g,"")==l.rare.replace(/[^SR]+/g,"")?a.name.localeCompare(l.name):l.rare.replace(/[^SR]+/g,"").localeCompare(a.rare.replace(/[^SR]+/g,""))),r});get supports(){return L(this.#o)}set supports(r){je(this.#o,r)}#r(r,a){if(a.c.includes(r)||a.e.includes(r)||a.k.includes(r))return!0;let l=!1;return a.o.forEach(f=>{f.b.includes(r)&&(l=!0)}),l}async loadImage(r){return(await wr.transaction("r",Yi,()=>Yi.get({id:r})))?.image}async saveImage(r){await Yi.put(r)}}const X=new ic;class oc{#e=ze(!1);get status(){return L(this.#e)}set status(r){je(this.#e,r,!0)}toggle(){this.status=!this.status}close(){this.status=!1}}const Bt=new oc;var ac=De('<img loading="lazy"/>');function dn(n,r){yr(r,!0);let a=Xr(r,"selected",3,!1),l=Xr(r,"title",3,""),f=Xr(r,"type",3,""),d=Xr(r,"style",3,""),_=ze(""),k;const x="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAgAAAAAAAAAICRAEAOw==";$l(()=>{const j=new IntersectionObserver(async([R])=>{if(R.isIntersecting){if(j.disconnect(),!r.id)return;let N=await X.loadImage(r.id);if(!N?.size){let D=`/image/${r.id}`;r.id.endsWith(".png")||(D=`/support/${r.id}.png`);try{const U=await fetch(D);U.ok&&(N=await U.blob(),r.id&&N.size&&await X.saveImage({id:r.id,image:N}))}catch{}}N?.size&&je(_,URL.createObjectURL(N),!0)}});return j.observe(k),()=>j.disconnect()});var A=ac();let T;ri(A,j=>k=j,()=>k),lt(()=>{T=Ft(A,1,Rl(f()),"s1s429m7",T,{selected:a()}),Nl(A,d()),Zr(A,"src",L(_)||x),Zr(A,"title",l()),Zr(A,"alt",r.alt)}),Ut("click",A,function(...j){r.onclick?.apply(this,j)}),Pe(n,A),mr()}ui(["click"]);var sc=De("<span> </span> <span>ã¡ã¤ã³ã·ããªãªã¤ãã³ã</span>",1),uc=De("<span> </span> <span> </span> <span> </span>",1),lc=De('<tr><td style="vertical-align:middle"><!></td><td style="white-space:pre-line"><!></td></tr>'),cc=De('<table class="table table-bordered s1gy2h74"><thead><tr><th colspan="2"> </th></tr></thead><tbody class="s1gy2h74"><tr><td colspan="2"><div style="display:flex"><!> <div style="display:grid"><!></div></div></td></tr><!></tbody></table>'),fc=De('<div class="content s1gy2h74"><div class="input-group s1gy2h74"><input class="form-control" type="search" placeholder="ã¦ãå¨åãã¤ãã³ããé¸æè¢ãã­ã¹ã"/></div> <div class="message s1gy2h74"><span>â»æå­å¥åããã¨æ¤ç´¢ãéå§ãã¾ã</span> <span style="float:right"> </span></div> <div id="results" class="s1gy2h74"></div></div>');function hc(n,r){yr(r,!0);const a=100;let l;const f=Mn(()=>(l&&(l.scrollTop=0),X.events.slice(0,X.events.length>a?a:X.events.length))),d=N=>{let D=N.g;return N.s&&Object.entries(N.s).forEach(([U,q])=>{D=D.replaceAll(`ã${U}ã`,`<a href="${q}" target="_blank">ã${U}ã</a>`)}),D};var _=fc(),k=J(_),x=J(k),A=xe(k,2),T=xe(J(A),2),j=J(T),R=xe(A,2);Ln(R,23,()=>L(f),N=>JSON.stringify(N),(N,D,U)=>{var q=cc(),G=J(q),ee=J(G),pe=J(ee),me=J(pe),Ce=xe(G),de=J(Ce),ne=J(de),ge=J(ne),Fe=J(ge);{var Ue=ke=>{dn(ke,{get id(){return L(D).i},get alt(){return L(D).c},type:"link",onclick:()=>{L(D).a&&window.open(L(D).a)}})};Dn(Fe,ke=>{(L(D).a||L(D).i)&&ke(Ue)})}var Gt=xe(Fe,2),dt=J(Gt);{var at=ke=>{var oe=sc(),se=St(oe),ve=J(se);lt(()=>At(ve,L(D).c)),Pe(ke,oe)},zn=ke=>{var oe=uc(),se=St(oe),ve=J(se),ce=xe(se,2),qe=J(ce),Te=xe(ce,2),xt=J(Te);lt(()=>{At(ve,L(D).c),At(qe,L(D).t=="c"?"ã¦ãå¨":"ãµãã¼ã"),At(xt,L(D).r)}),Pe(ke,oe)};Dn(dt,ke=>{L(D).t=="m"?ke(at):ke(zn,!1)})}var Qt=xe(de);Ln(Qt,17,()=>L(D).o,ke=>ke.b+ke.g,(ke,oe)=>{var se=lc(),ve=J(se),ce=J(ve);ya(ce,()=>L(oe).b);var qe=xe(ve),Te=J(qe);ya(Te,()=>d(L(oe))),Pe(ke,se)}),lt(()=>At(me,L(D).e)),ga(1,q,()=>Ea,()=>({x:"100%",delay:L(U)<3?L(U)*70:0,duration:400})),ga(2,q,()=>Ea,()=>({x:"100%",delay:L(U)<3?L(U)*70:0,duration:400})),Pe(N,q)}),ri(R,N=>l=N,()=>l),lt(()=>At(j,`(${X.events.length}/${X.count})`)),Ut("keydown",x,N=>{N.key==="Escape"&&(X.query="")}),Ul(x,()=>X.query,N=>X.query=N),Pe(n,_),mr()}ui(["keydown"]);var et=zl(()=>X),dc=De('<li class="s9ef3dn"><span><!></span></li>'),pc=De('<li class="s9ef3dn"><span><!></span></li>'),vc=De('<ul class="type s9ef3dn"></ul> <ul class="rare s9ef3dn"></ul>',1);function yc(n,r){yr(r,!1);const a=Ga(document.getElementById("supports")),l={speed:"ã¹ã",stamina:"ã¹ã¿",power:"ãã¯",guts:"æ ¹æ§",intelligence:"è³¢ã",friend:"åäºº",group:"ã°ã«"},f=["SSR","SR","R"];Vl();var d=vc(),_=St(d);Ln(_,5,()=>Object.entries(l),([x,A])=>x,(x,A)=>{var T=Mn(()=>cu(L(A),2));let j=()=>L(T)[0],R=()=>L(T)[1];var N=dc(),D=J(N);let U;var q=J(D);dn(q,{get id(){return j()},get alt(){return j()},type:"type"}),lt(()=>U=Ft(D,1,"s9ef3dn",null,U,{checked:et().support.type==R()})),Ut("click",D,()=>{L(a)&&ca(a,L(a).scrollTop=0),et().support.type==R()?et(et().support.type=void 0):et(et().support.type=R())}),Pe(x,N)});var k=xe(_,2);Ln(k,5,()=>f,x=>x,(x,A)=>{var T=pc(),j=J(T);let R;var N=J(j);{var D=U=>{{let q=vo(()=>L(A).toLowerCase());dn(U,{get id(){return L(q)},get alt(){return L(A)},type:"rare"})}};Dn(N,U=>{L(A)&&U(D)})}lt(()=>R=Ft(j,1,"s9ef3dn",null,R,{checked:et().support.rare==L(A)})),Ut("click",j,()=>{L(a)&&ca(a,L(a).scrollTop=0),et().support.rare==L(A)?et(et().support.rare=void 0):et(et().support.rare=L(A))}),Pe(x,T)}),Pe(n,d),mr()}ui(["click"]);var mc=De('<h5 style="color:gray" class="st4d7gg">ç¡</h5>'),gc=De("<!> <span> </span>",1),_c=De('<!> <div style="display:grid"><span> </span> <span> </span></div>',1),bc=De('<li class="st4d7gg"><!></li>'),wc=De('<div class="characters list st4d7gg"></div>'),xc=De('<li class="st4d7gg"><!></li>'),kc=De('<!> <div id="supports" class="list st4d7gg"><!></div>',1),Ec=De('<span><svg viewBox="0 0 16 16" width="32" height="32"><path d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"></path></svg></span> <div><div class="info st4d7gg"><div><h5 class="st4d7gg">ãã£ã«ã¿:</h5> <div><button class="btn-close st4d7gg"></button></div></div> <div class="display st4d7gg"><!></div></div> <ul class="nav nav-tabs st4d7gg"><li class="nav-item st4d7gg"><span>ã­ã£ã©</span></li> <li class="nav-item st4d7gg"><span>ãµãã¼ã</span></li></ul> <div class="items st4d7gg"><!></div></div>',1);function Oc(n,r){yr(r,!0);let a=ze("character"),l,f;const d=async oe=>{const se=oe.target;Bt.status&&!l.contains(se)&&!f.contains(se)&&Bt.close()};var _=Ec();yl("click",to,d);var k=St(_);let x;var A=J(k);ri(k,oe=>l=oe,()=>l);var T=xe(k,2);let j;var R=J(T),N=J(R),D=xe(J(N),2);let U;var q=J(D),G=xe(N,2),ee=J(G);{var pe=oe=>{var se=mc();Pe(oe,se)},me=oe=>{var se=gc(),ve=St(se);dn(ve,{get id(){return X.filter.image},get alt(){return X.filter.name},type:"icon"});var ce=xe(ve,2),qe=J(ce);lt(()=>At(qe,X.filter.name)),Pe(oe,se)},Ce=oe=>{var se=_c(),ve=St(se);dn(ve,{get id(){return X.filter.image},get alt(){return X.filter.name},type:"icon"});var ce=xe(ve,2),qe=J(ce),Te=J(qe),xt=xe(qe,2),Ve=J(xt);lt(()=>{At(Te,X.filter.name),At(Ve,X.filter.rare)}),Pe(oe,se)};Dn(ee,oe=>{X.filter.name?X.filter.type=="character"?oe(me,1):X.filter.type=="support"&&oe(Ce,2):oe(pe)})}var de=xe(R,2),ne=J(de),ge=J(ne);let Fe;var Ue=xe(ne,2),Gt=J(Ue);let dt;var at=xe(de,2),zn=J(at);{var Qt=oe=>{var se=wc();Ln(se,21,()=>rc,ve=>ve.name,(ve,ce)=>{var qe=bc(),Te=J(qe);{let xt=Mn(()=>X.filter.type=="character"&&X.filter.name==L(ce).name);dn(Te,{get selected(){return L(xt)},get id(){return L(ce).image},get alt(){return L(ce).name},get title(){return L(ce).name},type:"icon",style:"height:72px",onclick:()=>{Bt.close(),X.filter.name&&(X.filter.type=="support"||X.filter.type=="character"&&X.filter.name!=L(ce).name)&&(X.query=""),X.filter.type=="character"&&X.filter.name==L(ce).name?X.filter={type:"character",name:"",image:""}:X.filter={type:"character",name:L(ce).name,image:L(ce).image}}})}Pe(ve,qe)}),Pe(oe,se)},ke=oe=>{var se=kc(),ve=St(se);yc(ve,{});var ce=xe(ve,2),qe=J(ce);{var Te=Ve=>{var Xt=wl(),xn=St(Xt);Ln(xn,17,()=>X.supports,pt=>pt.image,(pt,He)=>{var xr=xc(),H=J(xr);{let kr=Mn(()=>X.filter.type=="support"&&X.filter.image==L(He).image);dn(H,{get selected(){return L(kr)},get id(){return L(He).image},get alt(){return L(He).name},get title(){return L(He).name},type:"icon",style:"min-height:96px",onclick:()=>{Bt.close(),X.filter.name&&(X.filter.type=="character"||X.filter.type=="support"&&X.filter.image!=L(He).image)&&(X.query=""),X.filter.type=="support"&&X.filter.image==L(He).image?X.filter={type:"support",name:"",image:""}:X.filter={type:"support",name:L(He).name,rare:L(He).rare,image:L(He).image}}})}Pe(pt,xr)}),Pe(Ve,Xt)},xt=Ve=>{var Xt=bl("ç¡");Pe(Ve,Xt)};Dn(qe,Ve=>{X.supports.length?Ve(Te):Ve(xt,!1)})}Pe(oe,se)};Dn(zn,oe=>{L(a)=="character"?oe(Qt):oe(ke,!1)})}ri(T,oe=>f=oe,()=>f),lt(()=>{x=Ft(k,1,"toggle st4d7gg",null,x,{on:Bt.status}),Zr(A,"fill",X.filter.name?"#007bff":"#6c757d"),j=Ft(T,1,"filter st4d7gg",null,j,{open:Bt.status}),U=Ft(D,1,"button st4d7gg",null,U,{hidden:X.filter.name==""}),Fe=Ft(ge,1,"nav-link st4d7gg",null,Fe,{active:L(a)=="character"}),dt=Ft(Gt,1,"nav-link st4d7gg",null,dt,{active:L(a)=="support"})}),Ut("click",k,()=>Bt.toggle()),Ut("click",q,()=>{Bt.close(),X.filter={type:"character",name:"",image:""}}),Ut("click",ge,()=>je(a,"character")),Ut("click",Gt,()=>je(a,"support")),Pe(n,_),mr()}ui(["click"]);var Ac=De('<header class="navbar navbar-expand flex-column flex-md-row sg1gxfn"><a class="navbar-brand text-primary m-0 mr-md-3 sg1gxfn" href="/">ã¦ãå¨</a></header> <!> <!>',1);function Sc(n){var r=Ac(),a=xe(St(r),2);Oc(a,{});var l=xe(a,2);hc(l,{}),Pe(n,r)}xl(Sc,{target:document.body});
